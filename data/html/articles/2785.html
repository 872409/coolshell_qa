<!DOCTYPE html><!--[if IE 8]>
<html id="ie8" dir="ltr" lang="zh-CN"
	prefix="og: https://ogp.me/ns#" >
<![endif]--><!--[if !(IE 8) ]><!--><html dir="ltr" lang="zh-CN" prefix="og: https://ogp.me/ns#"><!--<![endif]--><head><meta charset="UTF-8"/><title>JS1K 演示 | 酷 壳 - CoolShell</title><link rel="stylesheet" type="text/css" href="/assets/all.min.css"/><link rel="shortcut icon" href="/assets/favicon.png"/></head>
<body class="post-template-default single single-post postid-2785 single-format-standard group-blog">

<div id="page" class="hfeed site">

<div class="container">
<div class="row">

</div>
</div>
<div id="content" class="site-content">
<div class="container">
<div class="row">
<div id="primary" class="content-area  col-md-12" style="margin-top: 40px;">
<main id="main" role="main">
<article id="post-2785" class="post-content post-2785 post type-post status-publish format-standard hentry category-webdev category-misc tag-javascript tag-js1k">
<header class="entry-header">
<span class="screen-reader-text">JS1K 演示</span>
<h1 class="entry-title">JS1K 演示</h1>
<div class="entry-meta">
<h5 class="entry-date"><i class="fa fa-calendar-o"></i> <a href="/articles/2785.html" title="13:51" rel="bookmark"><time class="entry-date" datetime="2010-08-09T13:51:37+08:00" pubdate="">2010年08月09日 </time></a><span class="byline"><span class="sep"></span><i class="fa fa-user"></i>
<span class="author vcard"><a class="url fn n" href="/haoel" title="View all posts by 陈皓" rel="author">陈皓</a></span></span> <i class="fa fa-comments-o"></i><span class="screen-reader-text">评论 </span> <a href="/articles/2785.html#comments" class="comments-link">15 条评论</a> <i class="fa fa-users" style="margin-left:10px;"></i> 12,935 人阅读</h5>
</div>
</header>
<div class="entry-content">
<p>以前本站发布过很多和Javascript相关的东西，如：《<a rel="bookmark" href="/articles/2276.html">又一个Javascript试验田</a>》、《<a rel="bookmark" href="/articles/2065.html">一个Windows 3.1的Web网站</a>》、《<a rel="bookmark" href="/articles/1932.html">哥是玩程序的</a>》。今天要介绍另外一组，先看下面的这个Javascript特效（在IE下无法正常工作），你可以用Chrome查看，很炫。不过最炫的是其源码，非常的简单，不超过1K。如果你要知道这个效果的原理，这里有一个<a href="http://acko.net/blog/js1k-demo-the-making-of" target="_blank">教程</a>。这里有个网站：<a href="http://js1k.com/" target="_blank">JS1K Demo</a>， 这个站上主要收集一些Javascript不大于1K的程序。</p>
<p align="center"><iframe id="1kjs" frameborder="0" style="background:#000;border:0" width="510" height="320" src="https://acko.net/files/1022b.html"></iframe><br/> <br/>
<button id="1kjs-stop" onclick="if (!window.__cfRLUnblockHandlers) return false; document.getElementById(&#39;1kjs&#39;).src=&#39;about:blank&#39;;document.getElementById(&#39;1kjs-stop&#39;).style.display=&#39;none&#39;;document.getElementById(&#39;1kjs-start&#39;).style.display=&#39;block&#39;;" data-cf-modified-3aa68c2e2379174761a3ff71-="">停止演示</button><button style="display: none" id="1kjs-start" onclick="if (!window.__cfRLUnblockHandlers) return false; document.getElementById(&#39;1kjs&#39;).src=&#39;http://acko.net/files/1022b.html&#39;;document.getElementById(&#39;1kjs-start&#39;).style.display=&#39;none&#39;;document.getElementById(&#39;1kjs-stop&#39;).style.display=&#39;block&#39;;" data-cf-modified-3aa68c2e2379174761a3ff71-="">开始演示</button></p>
<p>下面是其源码：<br/>
<span id="more-2785"></span></p>
<p>[javascript]<br/>
f=Math; _=document.body; _.style.background=&#34;#000&#34;; e=_.children[0]; e.width=w=innerWidth-10; e.height=h=innerHeight-25; g=e.getContext(&#34;2d&#34;); t=w/h; with(g){scale(w*0.5/t,h*0.5); translate(1*t,1); globalCompositeOperation=&#34;lighter&#34;; lw=45/h; $=p=m=q=r=d=0; g=u=-8; setInterval(function(){if(–d&lt; 0){h=f.random; e=h()*18-9; r2=h()*18-9; u2=h()*18-9; d=70}function A(C,B){return C+(B-C)*0.04}p=A(p,e); m=A(m,r2); g=A(g,u2); q=A(q,p); r=A(r,m); u=A(u,g); a=f.atan2(q,-u*2); b=f.atan2(r*2,f.sqrt(u*u+q*q)); $+=0.05; clearRect(-t,-1,2*t,2); for(i=12; i; –i){v=0; for(j=45; j; ){c=f.cos; s=f.sin; j–; w=$-j*0.03-i*3; A=f.sqrt(j+0.2); n=c(w+s(w*0.31))*2+s(w*0.83)*3+w*0.02; o=s(w*0.7)-c(3+w*0.23)*3; x=c(n)*c(o)*A-q; y=s(n)*c(o)*A-r; z=s(o)*A-u; n=c(a); o=s(a); k=x*n+z*o; h=z*n-x*o; n=c(b); o=s(b); l=y*n+h*o; z=h*n-y*o; lineTo(k/z,l/z); lineWidth=lw*(2+!j)/z; h=f.round; w=h(60-j)*(1+!j+f.max(0,s($*6-j/8)-0.95)*70); strokeStyle=&#34;rgb(&#34;+h(w*(!j+s(i+$*0.15)+1))+&#34;,&#34;+h(!j+w*(s(i-1)+1))+&#34;,&#34;+h(!j+w*(s(i-1.3)+1))+&#34;)&#34;; if(z&gt; 0.1){v++&amp;&amp;stroke()}else{v=0}beginPath(); moveTo(k/z,l/z)}}},33)}<br/>
[/javascript]</p>
<p>下面，让我们再看一个只有1023字节的3D演示，同样，只有在Chrome中才能看到最佳效果。</p>
<p align="center"><iframe loading="lazy" id="1kjs1" frameborder="0" style="background:#000;border:0" width="510" height="320" src="https://js1k.com/pleaseDontHotlinkMe/15"></iframe><br/> <br/>
<button id="1kjs-stop1" onclick="if (!window.__cfRLUnblockHandlers) return false; document.getElementById(&#39;1kjs1&#39;).src=&#39;about:blank&#39;;document.getElementById(&#39;1kjs-stop1&#39;).style.display=&#39;none&#39;;document.getElementById(&#39;1kjs-start1&#39;).style.display=&#39;block&#39;;" data-cf-modified-3aa68c2e2379174761a3ff71-="">停止演示</button><button style="display: none" id="1kjs-start1" onclick="if (!window.__cfRLUnblockHandlers) return false; document.getElementById(&#39;1kjs1&#39;).src=&#39;http://js1k.com/pleaseDontHotlinkMe/15&#39;;document.getElementById(&#39;1kjs-start1&#39;).style.display=&#39;none&#39;;document.getElementById(&#39;1kjs-stop1&#39;).style.display=&#39;block&#39;;" data-cf-modified-3aa68c2e2379174761a3ff71-="">开始演示</button></p>
<p>其源代码如下：</p>
<p>[javascript]<br/>
with(document.body.style){margin=&#34;0px&#34;;overflow=&#34;hidden&#34;;}var w=window.innerWidth;var h=window.innerHeight;var ca=document.getElementById(&#34;c&#34;);ca.width=w;ca.height=h;var c=ca.getContext(&#34;2d&#34;);m=Math;fs=m.sin;fc=m.cos;fm=m.max;setInterval(d,30);function p(x,y,z){return{x:x,y:y,z:z};}function s(a,z){r=w/10;R=w/3;b=-20*fc(a*5+t);return p(w/2+(R*fc(a)+r*fs(z+2*t))/z+fc(a)*b,h/2+(R*fs(a))/z+fs(a)*b);}function q(a,da,z,dz){var v=[s(a,z),s(a+da,z),s(a+da,z+dz),s(a,z+dz)];c.beginPath();c.moveTo(v[0].x,v[0].y);for(i in v)c.lineTo(v[i].x,v[i].y);c.fill();}var Z=-0.20;var t=0;function d(){t+=1/30.0;c.fillStyle=&#34;#000&#34;;c.fillRect(0,0,w,h);c.fillStyle=&#34;#f00&#34;;var n=30;var a=0;var da=2*Math.PI/n;var dz=0.25;for(var z=Z+8;z&gt;Z;z-=dz){for(var i=0;i&lt;n;i++){fog=1/(fm((z+0.7)-3,1));if(z&lt;=2){fog=fm(0,z/2*z/2);}var k=(205*(fog*Math.abs(fs(i/n*2*3.14+t))))&gt;&gt;0;k*=(0.55+0.45*fc((i/n+0.25)*Math.PI*5));k=k&gt;&gt;0;c.fillStyle=&#34;rgb(&#34;+k+&#34;,&#34;+k+&#34;,&#34;+k+&#34;)&#34;;q(a,da,z,dz);if(i%3==0){c.fillStyle=&#34;#000&#34;;q(a,da/10,z,dz);}a+=da;}}Z-=0.05;if(Z&lt;=dz)Z+=dz;}<br/>
[/javascript]</p>
<p>你可以前往一看更多的<a href="http://js1k.com/demos" target="_blank">演示</a>。</p>
<div style="margin-top: 15px; font-size: 16px;color: #cc0000;">
<p align="center"><strong>（转载本站文章请注明作者和出处 <a href="/">酷 壳 – CoolShell</a> ，请勿用于任何商业用途）</strong></p>
</div>

<div id="post-ratings-2785-loading" class="post-ratings-loading"><img src="https://coolshell.cn/wp-content/plugins/wp-postratings/images/loading.gif" width="16" height="16" class="post-ratings-image"/>Loading...</div>
</div>
<footer class="entry-footer">
<hr/><div class="row"><div class="col-md-6 cattegories"><span class="cat-links"><i class="fa fa-folder-open"></i>
<a href="javascript:void(0)" rel="category tag">Web开发</a>, <a href="javascript:void(0)" rel="category tag">杂项资源</a></span></div><div class="col-md-6 tags"><span class="tags-links"><i class="fa fa-tags"></i> <a href="javascript:void(0)" rel="tag">Javascript</a>, <a href="javascript:void(0)" rel="tag">JS1K</a></span></div></div> </footer>
</article>

<div class="fixed"></div> 
</main>

<div class="post-comments">
<div id="comments" class="comments-area">
<h2 class="comments-title">
《<span>JS1K 演示</span>》的相关评论 </h2>
<ol class="comment-list">
<li id="comment-8775" class="comment even thread-even depth-1">
<article id="div-comment-8775" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/84d61b60f9eae4af019fb407fa88c988?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/84d61b60f9eae4af019fb407fa88c988?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">T2</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/2785.html#comment-8775"><time datetime="2010-08-09T14:46:10+08:00">2010年08月09日 14:46</time></a> </div>
</footer>
<div class="comment-content">
<p>一直很喜欢看Demoscene，也想写一些……<br/>
不过在这个页面停留还真是挺不节能的XD</p>
</div>
 </article>
</li>
<li id="comment-8790" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-8790" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/2ce21a2b9dabe565fc035ae5aee30391?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/2ce21a2b9dabe565fc035ae5aee30391?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">不正直的人</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/2785.html#comment-8790"><time datetime="2010-08-09T23:09:29+08:00">2010年08月09日 23:09</time></a> </div>
</footer>
<div class="comment-content">
<p>Opera 10.60飘过。。。</p>
</div>
 </article>
</li>
<li id="comment-8795" class="comment even thread-even depth-1">
<article id="div-comment-8795" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/971c5311eb70bddea71b423750c81e21?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/971c5311eb70bddea71b423750c81e21?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn"><a href="http://www.6e6.org/" class="url" rel="ugc external nofollow">阅网博客</a></b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/2785.html#comment-8795"><time datetime="2010-08-10T01:01:40+08:00">2010年08月10日 01:01</time></a> </div>
</footer>
<div class="comment-content">
<p>很好的文章 收藏！脚本最爱！</p>
</div>
 </article>
</li>
<li id="comment-8798" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-8798" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/73877e0b6ea2341dbbe903add2db1968?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/73877e0b6ea2341dbbe903add2db1968?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">btw616</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/2785.html#comment-8798"><time datetime="2010-08-10T02:07:13+08:00">2010年08月10日 02:07</time></a> </div>
</footer>
<div class="comment-content">
<p>真的很不错~~</p>
</div>
 </article>
</li>
<li id="comment-8817" class="comment even thread-even depth-1">
<article id="div-comment-8817" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/8b74169ad630f159b885a46bcb958fc6?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/8b74169ad630f159b885a46bcb958fc6?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn"><a href="http://dovapour.info/" class="url" rel="ugc external nofollow">vapour</a></b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/2785.html#comment-8817"><time datetime="2010-08-10T09:04:15+08:00">2010年08月10日 09:04</time></a> </div>
</footer>
<div class="comment-content">
<p>强悍，学习。</p>
</div>
 </article>
</li>
<li id="comment-8818" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-8818" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/5d171de090fb487838930ef4f7f92c26?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/5d171de090fb487838930ef4f7f92c26?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn"><a href="http://zys-free.com" class="url" rel="ugc external nofollow">AceLambda</a></b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/2785.html#comment-8818"><time datetime="2010-08-10T09:13:09+08:00">2010年08月10日 09:13</time></a> </div>
</footer>
<div class="comment-content">
<p>老点的机子，这篇文章用非Chrome开容易挂掉哦-_-</p>
</div>
 </article>
</li>
<li id="comment-8834" class="comment even thread-even depth-1">
<article id="div-comment-8834" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/c3651dd32584136119ae8597e52b708e?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/c3651dd32584136119ae8597e52b708e?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">saint23</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/2785.html#comment-8834"><time datetime="2010-08-10T13:12:35+08:00">2010年08月10日 13:12</time></a> </div>
</footer>
<div class="comment-content">
<blockquote cite="#commentbody-8790"><p>
<strong><a href="#comment-8790" rel="nofollow">不正直的人</a> :</strong><br/>
Opera 10.60飘过。。。
</p></blockquote>
<p>Opera 9.65飘过</p>
</div>
 </article>
</li>
<li id="comment-8838" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-8838" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/a80d90a92f44827e5155e569f219d827?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/a80d90a92f44827e5155e569f219d827?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn"><a href="http://www.leyond.info" class="url" rel="ugc external nofollow">Leyond</a></b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/2785.html#comment-8838"><time datetime="2010-08-10T15:54:05+08:00">2010年08月10日 15:54</time></a> </div>
</footer>
<div class="comment-content">
<p>恩，果然是完程序</p>
</div>
 </article>
</li>
<li id="comment-9831" class="pingback even thread-even depth-1">
<div class="comment-body">
Pingback： <a href="/articles/2926.html" class="url" rel="ugc">你准备使用 HTML 5 吗？ | 酷壳 - CoolShell.cn</a> </div>
</li>
<li id="comment-11395" class="pingback odd alt thread-odd thread-alt depth-1">
<div class="comment-body">
Pingback： <a href="http://www.94pm.com/2010/10/09/%e3%80%90%e9%85%b7%e5%a3%b3%e3%80%91%e4%b8%80%e4%ba%9b%e9%9d%9e%e5%b8%b8%e6%9c%89%e6%84%8f%e6%80%9d%e7%9a%84%e6%9d%82%e9%a1%b9%e8%b5%84%e6%ba%90/" class="url" rel="ugc external nofollow">泡面网 » 【酷壳】一些非常有意思的杂项资源</a> </div>
</li>
<li id="comment-20375" class="pingback even thread-even depth-1">
<div class="comment-body">
Pingback： <a href="/articles/3429.html" class="url" rel="ugc">程序员的圣诞节 | 酷壳 - CoolShell.cn</a> </div>
</li>
<li id="comment-20584" class="pingback odd alt thread-odd thread-alt depth-1">
<div class="comment-body">
Pingback： <a href="http://liansi.org/2010/12/29/%e7%a8%8b%e5%ba%8f%e5%91%98%e7%9a%84%e5%9c%a3%e8%af%9e%e8%8a%82/" class="url" rel="ugc external nofollow">程序员的圣诞节 | liansi.org</a> </div>
</li>
<li id="comment-20704" class="pingback even thread-even depth-1">
<div class="comment-body">
Pingback： <a href="http://184.82.237.158/2010/%e7%a8%8b%e5%ba%8f%e5%91%98%e7%9a%84%e5%9c%a3%e8%af%9e%e8%8a%82.html" class="url" rel="ugc external nofollow">程序员的圣诞节 | YJ Made and Design</a> </div>
</li>
<li id="comment-909730" class="pingback odd alt thread-odd thread-alt depth-1">
<div class="comment-body">
Pingback： <a href="http://www.multiprocess.net/?p=740" class="url" rel="ugc external nofollow">程序员的圣诞节 | multiprocess</a> </div>
</li>
<li id="comment-1508634" class="pingback even thread-even depth-1">
<div class="comment-body">
Pingback： <a href="http://www.makaidong.com/itniu/3221.html" class="url" rel="ugc external nofollow">你准备使用 HTML 5 吗 - IT牛人博客聚合</a> </div>
</li>
</ol>

</div>
</div>
</div>

</div> 
</div>

</div>

</div>




















</body></html>