<!DOCTYPE html><!--[if IE 8]>
<html id="ie8" dir="ltr" lang="zh-CN"
	prefix="og: https://ogp.me/ns#" >
<![endif]--><!--[if !(IE 8) ]><!--><html dir="ltr" lang="zh-CN" prefix="og: https://ogp.me/ns#"><!--<![endif]--><head><meta charset="UTF-8"/><title>“单元测试要做多细？” | 酷 壳 - CoolShell</title><link rel="stylesheet" type="text/css" href="/assets/all.min.css"/><link rel="shortcut icon" href="/assets/favicon.png"/></head>
<body class="post-template-default single single-post postid-8209 single-format-standard group-blog">

<div id="page" class="hfeed site">

<div class="container">
<div class="row">

</div>
</div>
<div id="content" class="site-content">
<div class="container">
<div class="row">
<div id="primary" class="content-area  col-md-12" style="margin-top: 40px;">
<main id="main" role="main">
<article id="post-8209" class="post-content post-8209 post type-post status-publish format-standard hentry category-misc tag-agile tag-tdd tag-unit-test">
<header class="entry-header">
<span class="screen-reader-text">“单元测试要做多细？”</span>
<h1 class="entry-title">“单元测试要做多细？”</h1>
<div class="entry-meta">
<h5 class="entry-date"><i class="fa fa-calendar-o"></i> <a href="/articles/8209.html" title="08:13" rel="bookmark"><time class="entry-date" datetime="2012-09-03T08:13:31+08:00" pubdate="">2012年09月03日 </time></a><span class="byline"><span class="sep"></span><i class="fa fa-user"></i>
<span class="author vcard"><a class="url fn n" href="/haoel" title="View all posts by 陈皓" rel="author">陈皓</a></span></span> <i class="fa fa-comments-o"></i><span class="screen-reader-text">评论 </span> <a href="/articles/8209.html#comments" class="comments-link">101 条评论</a> <i class="fa fa-users" style="margin-left:10px;"></i> 74,625 人阅读</h5>
</div>
</header>
<div class="entry-content">
<p>这篇文章主要来源是StackOverflow上的一个回答——“<a title="How deep are your unit tests?" href="http://stackoverflow.com/questions/153234/how-deep-are-your-unit-tests" target="_blank">How deep are your unit tests?</a>”。一个有13.8K的分的人（<a href="http://stackoverflow.com/users/1116/john-nolan">John Nolan</a>）问了个关于TDD的问题，这个问题并不新鲜，最亮的是这个问题的Best Answer，这个问题是——</p>
<p style="padding-left: 30px;">“TDD需要花时间写测试，而我们一般多少会写一些代码，而第一个测试是测试我的构造函数有没有把这个类的变量都设置对了，这会不会太过分了？那么，我们写单元测试的这个单元的粒度到底是什么样的？并且，是不是我们的测试测试得多了点？”</p>
<h4>答案</h4>
<p>StackOverflow上，这个问题的答案是这样的——</p>
<p style="padding-left: 30px;">“I get paid for code that works, not for tests, so my philosophy is to test as little as possible to reach a given level of confidence (I suspect this level of confidence is high compared to industry standards, but that could just be hubris). If I don’t typically make a kind of mistake (like setting the wrong variables in a constructor), I don’t test for it. I do tend to make sense of test errors, so I’m extra careful when I have logic with complicated conditionals. When coding on a team, I modify my strategy to carefully test code that we, collectively, tend to get wrong.”</p>
<p style="padding-left: 30px;"><strong>老板为我的代码付报酬，而不是测试，所以，我对此的价值观是——测试越少越好，少到你对你的代码质量达到了某种自信</strong>（我觉得这种的自信标准应该要高于业内的标准，当然，这种自信也可能是种自大）。如果我的编码生涯中不会犯这种典型的错误（如：在构造函数中设了个错误的值），那我就不会测试它。<strong>我倾向于去对那些有意义的错误做测试，所以，我对一些比较复杂的条件逻辑会异常地小心</strong>。当在一个团队中，我会非常小心的测试那些会让团队容易出错的代码。</p>
<p>这个回答对TDD似乎有一种否定，<strong>最亮的是这个问题是由<a href="https://en.wikipedia.org/wiki/Kent_Beck" target="_blank">Kent Beck</a>，Kent是XP和TDD的创造者，是敏捷开发实践方法的奠基人</strong>。以致于还有人调侃到——</p>
<p><span id="more-8209"></span></p>
<p><img decoding="async" class="alignright size-full wp-image-8212" title="fight club" src="/uploads/2012/09/fight.jpg" alt="" width="342" height="195" srcset="" sizes="(max-width: 342px) 100vw, 342px"/></p>
<p style="padding-left: 30px;">The world does not think that Kent Beck would say this! There are legions of developers dutifully pursuing 100% coverage because they think it is what Kent Beck would do! I have told many that you said, in your XP book, that you don’t always adhere to Test First religiously. But I’m surprised too.</p>
<p style="padding-left: 30px;">只是要地球人都不会觉得Kent Beck会这么说啊！我们有大堆程序员在忠实的追求着100%的代码测试覆盖率，因为这些程序员觉得Kent Beck也会这么干！我告诉过很多人，你在你的XP的书里说过，你并不总是支持“宗教信仰式的Test First”，但是今天Kent这么说，我还是很惊讶！</p>
<p>后面还有一些人不同意Kent， 我一下子从这个事中想到了《<a href="http://movie.douban.com/subject/1292000/" target="_blank">fight club</a>》里的那个精神分裂者创建了一个连自己都反对的地下组织。呵呵。</p>
<p>其实我是非常同意Kent的，怎么合适怎么搞，爱怎么测试就怎么测试，只要自己和团队有信心就可以了。没有必要就一定要写测试，一定要测试先行。</p>
<h4>其它答案</h4>
<p>八卦完了，我们还是来认认真真地看看这个问题中其它的其它答案，因为这个问题的也是国人爱问题的问题。</p>
<p><strong>第二个答案：值得借鉴</strong></p>
<ul>
<li>开发过程中，单元测试应该来测试那些可能会出错的地方，或是那些边界情况。</li>
<li>维护过程中，单元测试应该跟着我们的bug report来走，每一个bug都应该有个UT。于是程序员就会对自己的代码变更有两个自信，一是bug 被 fixed，二是相同的bug不会再次出现。</li>
</ul>
<p><strong>第三个答案：给敏捷咨师看的答案</strong></p>
<p>这个答案在说，我们只注意到了TDD中的T，而忽略了第一个D，就是Driven…… bla bla bla… 又这扯这些空洞的东西了，国内的各种不学无术的敏捷咨询师最好这一口了。</p>
<p><strong>第四个答案：致那些什么都要测试的人</strong></p>
<p>如果我们需要测试一个像 <code>int square(int x)</code> 这样的开根函数，我们需要40亿个测试（每个数都要测试）。</p>
<p>事实上这种情况可能还更糟糕，如果有这样一个方法 <code>void setX(int newX)</code> 不会更改其它的成员变量，如：obj.z, Obj.y，那么，你是不是还要去测试一下别的变量没有被改变？</p>
<p>我们只可能测试那些有意义的，确实要测试的案例。</p>
<h4>我的观点</h4>
<p>我在《<a title="TDD并不是看上去的那么美" href="/articles/3649.html" target="_blank">TDD并没有看上去的那么美</a>》一文中说过我的观点了，我就不再多说了。我还是把下面这些观点列出来，供大家思考和讨论：</p>
<p style="padding-left: 30px;">1）<strong>我国的教育对我们最大的洗脑不是掩盖事实，而让我们习惯于标准答案，习惯于教条，从而不会思考！敏捷开发中的若干东西似乎都成了软件开发中对某种标准答案的教条，实在是悲哀！</strong></p>
<p style="padding-left: 30px;">2）<strong>软件开发是一种脑力劳动，是一种知识密集型的工作，就像艺术作品一样，创作过程和成品是没有标准答案的。</strong></p>
<p style="padding-left: 30px;">3）<strong>软件的质量不是测试出来的，而是设计和维护出来的。就像工匠们在一点一点地雕琢他们的作品一样。</strong></p>
<p>UT的粒度是多少，这个不重要，重要的是你会不会自己思考你的软件应该怎么做，怎么测试。</p>
<p>（全文完）</p>
<div style="margin-top: 15px; font-size: 16px;color: #cc0000;">
<p align="center"><strong>（转载本站文章请注明作者和出处 <a href="/">酷 壳 – CoolShell</a> ，请勿用于任何商业用途）</strong></p>
</div>

<div id="post-ratings-8209-loading" class="post-ratings-loading"><img src="https://coolshell.cn/wp-content/plugins/wp-postratings/images/loading.gif" width="16" height="16" class="post-ratings-image"/>Loading...</div>
</div>
<footer class="entry-footer">
<hr/><div class="row"><div class="col-md-6 cattegories"><span class="cat-links"><i class="fa fa-folder-open"></i>
<a href="javascript:void(0)" rel="category tag">杂项资源</a></span></div><div class="col-md-6 tags"><span class="tags-links"><i class="fa fa-tags"></i> <a href="javascript:void(0)" rel="tag">agile</a>, <a href="javascript:void(0)" rel="tag">TDD</a>, <a href="javascript:void(0)" rel="tag">Unit Test</a></span></div></div> </footer>
</article>

<div class="fixed"></div> 
</main>

<div class="post-comments">
<div id="comments" class="comments-area">
<h2 class="comments-title">
《<span>“单元测试要做多细？”</span>》的相关评论 </h2>
<ol class="comment-list">
<li id="comment-202483" class="comment even thread-even depth-1">
<article id="div-comment-202483" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/3c1d790edd398a9440b20519f8a0c1d6?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3c1d790edd398a9440b20519f8a0c1d6?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">blue</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8209.html/comment-page-2#comment-202483"><time datetime="2012-09-08T15:30:51+08:00">2012年09月08日 15:30</time></a> </div>
</footer>
<div class="comment-content">
<p>测试的目的不是证明代码正确（也做不到），而是帮助发现错误，包括低级的错误。<br/>
编码质量是另一个话题，但再强悍的人也有失手的时候，特别是有 deadline 紧追不舍时。<br/>
况且编写代码的人多数情况下不会一辈子亲自维护，写下的代码以后会被很多人修改，变数很多。<br/>
如果有时间写测试，我觉得还是尽量去写。没时间或者觉得没必要就算了。<br/>
把单元测试的地位抬得太高，作为质量衡量标准就有点过分了，个人愚见。</p>
</div>
 </article>
</li>
<li id="comment-202536" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-202536" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/28b50e7ca8942d5594b74274b0354ef5?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/28b50e7ca8942d5594b74274b0354ef5?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn"><a href="http://www.cnblogs.com/myshell" class="url" rel="ugc external nofollow">myshell</a></b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8209.html/comment-page-2#comment-202536"><time datetime="2012-09-11T17:08:46+08:00">2012年09月11日 17:08</time></a> </div>
</footer>
<div class="comment-content">
<p>软件的质量不是测试出来的，而是设计和维护出来的。就像工匠们在一点一点地雕琢他们的作品一样。</p>
<p>但软件的质量要靠测试来验证的</p>
</div>
 </article>
</li>
<li id="comment-202629" class="comment even thread-even depth-1">
<article id="div-comment-202629" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/c338157dd3ea1e386c2e0a0edf53a41a?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/c338157dd3ea1e386c2e0a0edf53a41a?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">invalid</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8209.html/comment-page-2#comment-202629"><time datetime="2012-09-12T11:16:54+08:00">2012年09月12日 11:16</time></a> </div>
</footer>
<div class="comment-content">
<blockquote cite="#commentbody-202536"><p>
<strong><a href="#comment-202536" rel="nofollow">myshell</a> :</strong><br/>
软件的质量不是测试出来的，而是设计和维护出来的。就像工匠们在一点一点地雕琢他们的作品一样。<br/>
但软件的质量要靠测试来验证的
</p></blockquote>
<p>测试有两种目的，其一是检查错误，其二是验收。前者是程序员的工作，后者是测试部的任务——很明显，程序员追求质量的方式，和测试人员是完全不一样的。</p>
<p>这里只讨论程序员的工作。</p>
<p>有句话说的好：写一个软件有两种思路，一种是简单到明显没有错误，一种是复杂到没有明显的错误。前者远比后者更难。</p>
<p>一个好的软件工程师，必然是把自己近乎全部的精力放到“如何设计系统、以使其简单到明显没有错误”，而不是“我有一千八百七十六万个测试用例，这些用例暂时还没有发现什么明显的错误”。</p>
<p>不客气的说，一个测试用例都没有的前者几乎肯定是个优秀软件；有一千八百万测试用例的后者明显就是个彻头彻尾的垃圾。</p>
<p>对程序员来说，做到“简单到明显没有错误”太难，不得已退而求其次，这才只好去写“尽量简单、但偶尔还是有点晦涩”的程序；然后就不得不通过测试来检查晦涩之处有无错误——当然，如果后来通过苦思冥想、翻阅资料，能够一下子以极简的方式解决掉晦涩部分，那当然是最痛快的。</p>
<p>TDD教、UML教还有面向对象教最大的问题，就是搞出种种清规戒律、却逃避甚至排斥“作出简单到明显没有错误的方案”方向的任何努力。而后者才是解决软件质量问题的正确方向。</p>
<p>所以才说：软件的质量不是测试出来的，而是设计和维护出来的。</p>
</div>
 </article>
</li>
<li id="comment-203016" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-203016" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/c2b6b4f127a08d92660b1460c257587b?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/c2b6b4f127a08d92660b1460c257587b?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">dabaiii</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8209.html/comment-page-2#comment-203016"><time datetime="2012-09-20T18:56:24+08:00">2012年09月20日 18:56</time></a> </div>
</footer>
<div class="comment-content">
<p><a href="#comment-202293" rel="nofollow">@xum </a><br/>
非常不错</p>
</div>
 </article>
</li>
<li id="comment-203156" class="comment even thread-even depth-1">
<article id="div-comment-203156" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/ad8172f5412de4a6c95a3fbf39289054?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/ad8172f5412de4a6c95a3fbf39289054?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">dfewfe</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8209.html/comment-page-2#comment-203156"><time datetime="2012-09-28T13:25:04+08:00">2012年09月28日 13:25</time></a> </div>
</footer>
<div class="comment-content">
<blockquote cite="#commentbody-202629"><p>
TDD教、UML教还有面向对象教最大的问题，就是搞出种种清规戒律、却逃避甚至排斥“作出简单到明显没有错误的方案”方向的任何努力。而后者才是解决软件质量问题的正确方向。<br/>
所以才说：软件的质量不是测试出来的，而是设计和维护出来的。
</p></blockquote>
<p>现实本身就是复杂到没有明显的错误, 所以如果作为对现实的一种映射的代码是简单到明显没有错误, 那么很明显代码是简单到反映不了现实情况.<br/>
这种说法就跟老金的”无招胜有招”,老子的”无为而无不为”一样, 听着挺有道理,看着也挺有道理,可就是现实中行不通.</p>
</div>
 </article>
</li>
<li id="comment-203212" class="pingback odd alt thread-odd thread-alt depth-1">
<div class="comment-body">
Pingback： <a href="http://blog.baozishan.in/?p=1507" class="url" rel="ugc external nofollow">GWeekly[16,17] = 拒绝洗脑, 勇敢到老 – 我住包子山</a> </div>
</li>
<li id="comment-203293" class="comment even thread-even depth-1">
<article id="div-comment-203293" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/c338157dd3ea1e386c2e0a0edf53a41a?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/c338157dd3ea1e386c2e0a0edf53a41a?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">invalid</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8209.html/comment-page-2#comment-203293"><time datetime="2012-10-08T10:35:38+08:00">2012年10月08日 10:35</time></a> </div>
</footer>
<div class="comment-content">
<blockquote cite="#commentbody-203156"><p>
<strong><a href="#comment-203156" rel="nofollow">dfewfe</a> :</strong></p>
<blockquote cite="#commentbody-202629"><p>
TDD教、UML教还有面向对象教最大的问题，就是搞出种种清规戒律、却逃避甚至排斥“作出简单到明显没有错误的方案”方向的任何努力。而后者才是解决软件质量问题的正确方向。<br/>
所以才说：软件的质量不是测试出来的，而是设计和维护出来的。
</p></blockquote>
<p>现实本身就是复杂到没有明显的错误, 所以如果作为对现实的一种映射的代码是简单到明显没有错误, 那么很明显代码是简单到反映不了现实情况.<br/>
这种说法就跟老金的”无招胜有招”,老子的”无为而无不为”一样, 听着挺有道理,看着也挺有道理,可就是现实中行不通.
</p></blockquote>
<p>&gt;现实本身就是复杂到没有明显的错误</p>
<p>我不知道你这个结论是从哪得来的。</p>
<p>现实本身，至少从目前的认识来看，牛顿三大运动定律本身基本就可以囊括一切了；更变态一点的需求，可以通过相对论修正（比如GPS。但相对论本身不过是两句话和两个变换公式）；至于量子力学，它的修正现在基本用不到——即使用到，它也不过就是一句话罢了。</p>
<p>至于化学，早在上百年前就已经可以归结为物理了。</p>
<p>————————————————————————————<br/>
很显然，现实本身是如此简单明了；也正因为其简单，我们才可以自牛顿力学开始，逐步深入，搞出现代文明体系。</p>
<p>牛顿力学的确并非现实的精确表述，在一些极端情况下，它需要打一些补丁。</p>
<p>而目前需要打上的补丁，也不过是为极端情况加上简单的两个修正（广义/狭义相对论），量子力学暂时尚无用武之地。</p>
<p>————————————————————————————<br/>
牛顿三大定律是机制；由它构成某种复杂系统则是策略。</p>
<p>——类似软件核心设计的“提供机制但不提供策略”理念一样，谈及策略，就必须具体到某个行业。</p>
<p>以汽车发动机设计举例，其后台机制仍然是牛顿三大运动定律，实现策略是汽缸/活塞/曲轴/连杆/轴承/齿轮：举凡机械，没有什么超越以上构件范围的。</p>
<p>显然，这也就是说，到了发动机上，无非是：基于牛顿三大定律这个库，提供了汽缸/活塞/曲轴/连杆/轴承/齿轮这个新的基础库；而如何利用汽缸/活塞/曲轴/连杆/轴承/齿轮等等机制以实现特定的机械，需要工程师设计另外的“策略”——而这个策略，显然不是汽缸/活塞/曲轴/连杆/轴承/齿轮库所应提供的。</p>
<p>如此反复，层层抽象，每层都很简单；等到了汽车整车上，就是“利用发动机/变速箱/轮胎/车身这个库提供的机制”，以某种“策略”实现特定车型了——显然，这仍然很简单。</p>
<p>正是基于以上思路，现代工业才成为可能。<br/>
——————————————————————————————</p>
<p>很显然，正因为你和另外一些人根本理解不了现代科学的根本理念，这才会把它和“无招胜有招”这种扯淡相混淆。</p>
<p>更具体点说，接受了现代科学根本理念的人，自然会把库-机制-策略看做吃饭喝水一样平常，他们自然懂的“怎样才能把软件搞简单”：无非是合理分层、正确抽象、区分机制和策略罢了。</p>
<p>相反，脑子仍然被“道可道，非常道”这种垃圾充满的，他们除了哭“现实如此复杂”，还能做什么？<br/>
面对“复杂的现实”，他们要能找到哪怕一丝脉络，那才叫白日见鬼了。</p>
<p>正是这种人，才会去不着边际的吹捧TDD教/UML教以及面向对象教——严肃的后三者的确是利器，但不应被没有自控力的小孩子接触。</p>
<p>会者不难，难者不会，这句话精辟的描募出了掌握正确规律者和稀里糊涂者在面对问题时的不同。</p>
</div>
 </article>
</li>
<li id="comment-203317" class="comment odd alt thread-odd thread-alt depth-1 parent">
<article id="div-comment-203317" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/c338157dd3ea1e386c2e0a0edf53a41a?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/c338157dd3ea1e386c2e0a0edf53a41a?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">invalid</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8209.html/comment-page-2#comment-203317"><time datetime="2012-10-08T13:55:25+08:00">2012年10月08日 13:55</time></a> </div>
</footer>
<div class="comment-content">
<p>用一个例子来展示“如何设计简单到明显没有错误”的软件吧——以office为例。</p>
<p>从哪开始呢？</p>
<p>——————————————————————————————————<br/>
100年前，甚至更早，人们已经认识到计算是可以机械化的了。于是，他们发明了算盘、计算尺、手摇计算机……甚至积分电路。</p>
<p>不过，以上种种都只能解决一个方面的简单问题；通用计算机？对不起，没门。世界是如此复杂……</p>
<p>然后，图灵大神诞生了。</p>
<p>——————————————————————————————————<br/>
图灵其实只是做了这么个工作：<br/>
1、用数字为操作编码，并把这些被编码的操作看做一台机器的基本零件<br/>
2、利用这些编码构建代码序列<br/>
3、输入代码序列，机器就按次序逐个执行代码序列中的编码对应的操作；而精心设计的、按次序执行的操作就可以完成某种功能（这是专用计算器，还不是通用计算机）<br/>
4、证明支持特定编码的机器，可以通过代码序列模拟任何其它机器——这种机器就被认为是图灵完备的，它就是通用计算机。</p>
<p>简单来说，图灵是说：实现一个根据指令代码序列做对应操作的机器，只要这个机器提供的操作指令之集合能达到“图灵完备”的程度，它就是通用计算机。</p>
<p>然后？基于这个“执行操作序列”的机制，请脑补如下策略：<br/>
1、把操作定义为数学运算指令和跳转指令（以后简称为指令）<br/>
2、用这些指令写程序吧<br/>
3、执行程序<br/>
4、证明1里面定义的操作是图灵完备的</p>
<p>这就是基于图灵机制的、以数学运算和跳转指令这个策略实现的通用计算机。</p>
<p>比如，x86就定义了一套指令；而arm则定义了另一套；power pc则又是一套……<br/>
它们都可以处理任何可计算问题。</p>
<p>所以：<br/>
1、图灵机是机制<br/>
2、具体的x86指令集是策略<br/>
3、x86指令集解决的，是“高效率支持图灵所预言的通用计算能力”问题<br/>
———————————————————————————————————</p>
<p>现在，我们开始设计高级语言——此时x86指令集是机制，我们设计的语言是一套策略，它将为常用软件的设计者提供一套机制：这套机制可以使得他们可以高效开发软件。</p>
<p>高级语言的示例之一就是C。它把x86/arm/power pc等等指令抽象为少量关键字/运算符，使得写程序像写英文、写数学公式一样简单。</p>
<p>———————————————————————————————————<br/>
终于到可以设计软件的时候了。我们写一套office软件吧……</p>
<p>嗯，这个真是太复杂了……</p>
<p>别急。</p>
<p>———————————————————————————————————<br/>
具体到我们这个需求上，c的能力太弱了。它提供的机制虽然足以让我们做任何事，但到office上，这就相当于要求我们要利用它的机制实现无限复杂的策略——而这是无法容忍的。</p>
<p>所以，第一步，先写一套glibc，封装基本的数据结构和算法吧——glibc是基于C提供的机制实现的一组算法/数据管理算法（策略）。</p>
<p>当然，对很多人来说，算法很难。不过，具体到某一个算法上，它并非不可理解。还是那句话，难者不会，会者不难。</p>
<p>好在，有glibc（以及其它很多库），写高层应用已经很少需要理睬那些基本算法了。</p>
<p>————————————————————————————————————<br/>
即使有了glibc，仍然不到写office的时候——虽然只靠C甚至机器指令也一定能做到——我们需要更强悍的机制。</p>
<p>基于glibc提供的机制（上一层次实现的一组策略，到下一层次就成了机制，这事实在太常见了），我们可以写个GTK。<br/>
GTK将抽象显示器上的一块块区域（窗口），并抽象用户（通过鼠标/键盘/其它输入设备）和它们的交互（消息）。</p>
<p>然后，窗口（以及消息）是机制，具体的某种widget是策略……</p>
<p>进一步的，抽象数据存储为model，抽象窗口为view，抽象动作逻辑为control——这就是MVC架构。<br/>
熟悉GUI的应该知道从微软的MFC架构到经典的MVC架构，GUI库的设计理念发生了多少改变——这里就可以看出，写“明显没有错误”的软件有多难了。</p>
<p>当然，有了GTK，基于GTK提供的机制，实现office就容易太多了。</p>
<p>而GTK本身虽然称得上庞大，但核心其实也就那么几个类以及简单的几个逻辑而已；其它五花八门的种种widget，其实不过是基于核心那几个类/算法提供的机制实现的一些策略罢了。</p>
<p>换言之，如果你深入分析GTK源码的话，轻易就会发现它内部其实也是分层的，每层实现若干策略，这些策略的作用是给更上层提供简单好用的机制……“上一层次实现的一组策略，到下一层次就成了机制”，这句话应该不会这么快就忘掉吧？</p>
<p>这种特点，决定了GTK可以成为高效、稳定的基础库。<br/>
—————————————————————————————————————</p>
<p>然后？开始写office吧？</p>
<p>别急，别急。首先我们需要定义一套文档格式，为了兼容，最好用xml格式；而xml本身需要一套库来存取（封装解析）；此外，组成office的word/excel等应用需要相互调用，这需要某种通信机制甚至是OLE/COM（当然，这两个抽象很糟糕）……</p>
<p>总之，很明显，即便有了GTK等框架库，到office的路依旧漫长。我们仍然需要步步为营，作出一层层漂亮的抽象。但一旦这样做了，那么到了最后，就好像在程序中内嵌浏览器一样，简单到只有一步而已。</p>
<p>当然，这中间的过程，尚须从实践出发，一点点补足。但至少有一点可以预言：它必然是分层的，且提供的抽象必须尽可能基本，否则就会带来不必要的复杂度——比如从SDK到MFC到MVC，简化程度不啻于从地心说到日心说：注意地心说并非不能解释行星运动，只是相对于日心说，它太复杂了。</p>
<p>事实上，请自行研读著名开源项目的代码，甚至就是从微软的sdk里，都能随时随地发现以上设计原则的痕迹——对这个原则的应用水平是另一回事。</p>
<p>——————————————————————————————————</p>
<p>很显然，好的软件设计，依靠的不是什么TDD、UML、OO，而是发现规律、抽象规律、精简规律；只有到最后一步实现规律时，才可能用到OO之类提供的机制（而不是它的方法论）。</p>
<p>所谓简单到明显没有错误，其实就是：尽量让每一层都抽象出尽量少而基本、但同时还必须完备的规律(机制)，让程序的正确性由规律来保证。这样，只要规律抽象没问题，程序就不会有问题——而规律是否正确，是非常容易考察的。</p>
<p>当然，每一层规律的具体抽象方式，可能都需要一个甚至多个地心说到日心说的演变过程才能走向完善。不合理的规律会带来基于这个规律的实现策略的复杂度（比如用地心说去描述行星运动）。这就是写“明显没有错误的软件”如此困难的根本原因。</p>
<p>至少在现在，这种抽象只能由人来完成，人工智能都无从染指。TDD之类机械的方法论要有用，把它写成一秒上亿步的人工智能多好？又快又不会出错，早就该替代设计师了。</p>
<p>——很明显，TDD/UML/OO之类的方法论根本就没资格在设计这个领域发言。虽然它们在具体实现某个东西时可能很犀利，但它们不是设计。它们甚至都提不出地心说，更不可能帮你从地心说优化到日心说。</p>
<p>拿它们来掺和软件设计，这不是错误，这是笑话。它的可行度，一点都不比“请一大群猴子随机敲键盘来输入莎士比亚全集”高。</p>
<p>当然，相比于那些完全不知规律为何物、只知道现实很复杂、复杂到超出他们掌控的人来说，TDD/UML/OO等方法论的确是一根不错的救命稻草……它至少使得一些人在装着做什么事时，能够更像神殿祭司而不是跳大神：这两者的唯一区别是前者有章法、后者随心所欲。但也就如此而已。</p>
</div>
 </article>
<ol class="children">
<li id="comment-2224000" class="comment even depth-2">
<article id="div-comment-2224000" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/f82413d54532cd174853b1921ebaf209?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/f82413d54532cd174853b1921ebaf209?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">Gavin</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8209.html/comment-page-2#comment-2224000"><time datetime="2021-03-28T10:40:22+08:00">2021年03月28日 10:40</time></a> </div>
</footer>
<div class="comment-content">
<p>鞭辟入里！膜拜了！</p>
</div>
 </article>
</li>
</ol>
</li>
<li id="comment-203451" class="comment odd alt thread-even depth-1 parent">
<article id="div-comment-203451" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/874b69774f32ac455801c76c6e5ff063?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/874b69774f32ac455801c76c6e5ff063?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">progray</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8209.html/comment-page-2#comment-203451"><time datetime="2012-10-09T12:21:50+08:00">2012年10月09日 12:21</time></a> </div>
</footer>
<div class="comment-content">
<p>发现“我国”程序员一个通病是动辄把问题上升到政治层面，人人都是政治家，历史学家，军事家。把个程序问题非要扯出点花儿来，所以，评论就总是打水战。</p>
</div>
 </article>
<ol class="children">
<li id="comment-1911109" class="comment even depth-2">
<article id="div-comment-1911109" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/1c58fad903ef136736b73f705e29558b?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1c58fad903ef136736b73f705e29558b?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">rio</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8209.html/comment-page-2#comment-1911109"><time datetime="2017-01-16T15:46:05+08:00">2017年01月16日 15:46</time></a> </div>
</footer>
<div class="comment-content">
<p>同意。反正都怪体制或者素质咯。</p>
</div>
 </article>
</li>
</ol>
</li>
<li id="comment-203456" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-203456" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/c338157dd3ea1e386c2e0a0edf53a41a?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/c338157dd3ea1e386c2e0a0edf53a41a?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">invalid</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8209.html/comment-page-2#comment-203456"><time datetime="2012-10-09T12:57:24+08:00">2012年10月09日 12:57</time></a> </div>
</footer>
<div class="comment-content">
<blockquote cite="#commentbody-203451"><p>
<strong><a href="#comment-203451" rel="nofollow">progray</a> :</strong><br/>
发现“我国”程序员一个通病是动辄把问题上升到政治层面，人人都是政治家，历史学家，军事家。把个程序问题非要扯出点花儿来，所以，评论就总是打水战。
</p></blockquote>
<p>同意。你说有些连现代文明的基本原则都一无所知的家伙瞎过来搀合什么？只为了宣布他不会？</p>
<p>可那些TDD/UML/OO教徒，你不理他吧，他就得瑟上了。简单问题神秘化，然后？程序员一边去，你们是蓝领，让位，让白领的大祭司登场！</p>
<p>甚至，“写一个软件有两种思路，一种是简单到明显没有错误，一种是复杂到没有明显的错误。前者远比后者更难。”这句褒贬明确、毫无二义的话，都被他们断章取义，故意忽略最后一句话，把“复杂到没有明显的错误”当作一种可行的、严肃的设计方法来宣扬——不妨看看跟帖中有多少人现身说法吧。</p>
<p>战争总是从被攻击者的抵抗开始。正是这种本应去搞政治的所谓“程序员”的侵蚀，自然使得真正去搞技术的屡屡失去自己的净土，最后不得不被政治家拖到他们的水平上，然后再被他们打败。</p>
</div>
 </article>
</li>
<li id="comment-203457" class="comment even thread-even depth-1">
<article id="div-comment-203457" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/c338157dd3ea1e386c2e0a0edf53a41a?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/c338157dd3ea1e386c2e0a0edf53a41a?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">invalid</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8209.html/comment-page-2#comment-203457"><time datetime="2012-10-09T13:04:06+08:00">2012年10月09日 13:04</time></a> </div>
</footer>
<div class="comment-content">
<p>我真的很难理解，某些人怎么能有那么厚的脸皮，居然能无视“写一个软件有两种思路，一种是简单到明显没有错误，一种是复杂到没有明显的错误。前者远比后者更难。”这句话里如此明显、辛辣的讽刺意味，掐掉尾句就敢拿它来给自己搞出的烂摊子辩护。这种恬不知耻，似乎是政治界的特长吧。</p>
</div>
 </article>
</li>
<li id="comment-203459" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-203459" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/c338157dd3ea1e386c2e0a0edf53a41a?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/c338157dd3ea1e386c2e0a0edf53a41a?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">invalid</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8209.html/comment-page-2#comment-203459"><time datetime="2012-10-09T13:13:53+08:00">2012年10月09日 13:13</time></a> </div>
</footer>
<div class="comment-content">
<p>不妨拿个同样的句式作为对比：</p>
<p>治好一种疾病有两种方法，一种是找到病根并解决它，一种是杀掉病人。前者远比后者更难。</p>
<p>这种句式隐含的强烈褒贬、讽刺，是如此的鲜明、不容忽视。因为它（这种句式）设计来就是为了表达强烈的讥讽意味的。</p>
<p>可在这片神奇的土地上，“中国”的程序员却不得不出来辩护，以向大家证明“杀掉病人”，哦，不，是写出“复杂到没有明显错误”的程序，真的不应该是程序员的工作方式。</p>
<p>不得不承认，政治家们颠倒黑白的艺术，着实无敌。</p>
</div>
 </article>
</li>
<li id="comment-203582" class="comment even thread-even depth-1">
<article id="div-comment-203582" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/34a34a4079a1a10ba1ffda06c7b57e4e?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/34a34a4079a1a10ba1ffda06c7b57e4e?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">老解</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8209.html/comment-page-2#comment-203582"><time datetime="2012-10-10T11:24:30+08:00">2012年10月10日 11:24</time></a> </div>
</footer>
<div class="comment-content">
<p>大白告，闲逛到你地盘上，一猜就是你。</p>
</div>
 </article>
</li>
<li id="comment-215754" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-215754" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/105ad77c34ff7a95ffe0dd031f78b9be?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/105ad77c34ff7a95ffe0dd031f78b9be?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn"><a href="http://www.cnblogs.com/icanth" class="url" rel="ugc external nofollow">Icanth</a></b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8209.html/comment-page-2#comment-215754"><time datetime="2012-11-14T16:30:21+08:00">2012年11月14日 16:30</time></a> </div>
</footer>
<div class="comment-content">
<p>今天不碰巧，还去面了TW。无论敏捷开发也好，传统的瀑布也好，我觉得能抓到老鼠的猫就是好猫。</p>
</div>
 </article>
</li>
<li id="comment-216574" class="comment even thread-even depth-1">
<article id="div-comment-216574" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/12f5bb82771d8b16944714e5fcf69a9e?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/12f5bb82771d8b16944714e5fcf69a9e?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">guest</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8209.html/comment-page-2#comment-216574"><time datetime="2012-11-16T20:47:51+08:00">2012年11月16日 20:47</time></a> </div>
</footer>
<div class="comment-content">
<blockquote cite="#commentbody-202371"><p>
<strong><a href="#comment-202371" rel="nofollow">manuscola</a> :</strong></p>
<blockquote cite="#commentbody-202307"><p>
<strong><a href="#comment-202307" rel="nofollow">liigo</a> :</strong><br/>
关于StackOverflow上出现的大量排斥TDD的观点，我尝试这样来解释：占主流群体的底层程序员在没有监督的情况下缺乏责任心只求应付工作。这是很普遍的现象，在学校里，老师来了人模狗样的写作业，老师走了立马乱成一锅粥各玩各的。相信大多数人都经历过，其实事后想想老师的监督还是为我们好，可是当时的学生就是反感老师管。到了工作岗位上也是如此，领导在不在大不一样。总结下来就是，大多数人在没有监督的情况下容易慵懒应付。这应该是人的天性。后来工厂出现的流水线，应该就是对付这种情况的。把工作流程标准化、流水线化，让整个流水线上的人都没机会偷懒。我想这也是TDD的目标之一。如果没有足够的测试用例，你怎么确认某个模块是功能完整的无明显缺陷的？如果原作者离职了，后来的维护者修改了先前的代码，又如何保证不影响以前的功能？要知道，你修改一个新bug，很可能会把以前的多个旧bug放出来，有经验的开发者应该明白我说的什么意思。于是软件越来越难于维护，维护者也越来越排斥修改代码，一潭死水无人敢碰，软件提前寿终正寝。我最终的结论就是，TDD要由项目管理者推动实施，而不能征求下面程序员的意见，——他们虽然人数众多，但就像面对老师的学生一样，总是要求玩耍而不是学习，这对项目本身是无益的。
</p></blockquote>
<p>这是典型的流水线工人的管理模式，程序员从事的不是计件工作，用加班时间 测试覆盖率来衡量程序员的工作都是错误的。程序员是有自尊心的，好的程序员，不需要用加班 用所谓的UT 测试覆盖来证明自己，他自己就会要求自己做到极致。差的没有责任心，没有上进心的程序员，做了这些也没用。<br/>
这种管理模式，就是不分良莠，一律把程序员当成贱骨头，除了打击程序员的积极性，降低程序员的效率意外没有其他的好处。最终，程序员都成了唯唯诺诺，没有什么创造力，一个模子刻出来的。<br/>
所有的管理，都是扯淡，软件公司，人是最重要的，人开心了，效率就会提升，你把自己的程序员像防贼一样的防着，很难想象程序员会快乐，会高效，对公司会有认同感
</p></blockquote>
<p>我可以不客气地告诉你, 你的软件工程要么是压根没学, 要不就是XXX吃了. 员工的快乐时间了在收益的基础上不是建立在劳动的基础上, 我想逗你快乐, 10倍工资挖墙角怎么都弄走了—-人本, 靠得住吗?</p>
</div>
 </article>
</li>
<li id="comment-218493" class="pingback odd alt thread-odd thread-alt depth-1">
<div class="comment-body">
Pingback： <a href="http://1.kaiyuanshengshi.sinaapp.com/?p=11111" class="url" rel="ugc external nofollow">如何测试洗牌程序</a> </div>
</li>
<li id="comment-218678" class="comment even thread-even depth-1">
<article id="div-comment-218678" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/6b196e22b633d361e8927d065e79679b?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/6b196e22b633d361e8927d065e79679b?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">sunny</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8209.html/comment-page-2#comment-218678"><time datetime="2012-11-21T09:33:29+08:00">2012年11月21日 09:33</time></a> </div>
</footer>
<div class="comment-content">
<p><a href="#comment-202629" rel="nofollow">@invalid </a><br/>
说得太好了，测试是手段而不是目的，膜拜</p>
</div>
 </article>
</li>
<li id="comment-240229" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-240229" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/341e04529c05ab941c911276f72bd70e?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/341e04529c05ab941c911276f72bd70e?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn"><a href="http://wingsdak.wordpress.com/" class="url" rel="ugc external nofollow">小wing</a></b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8209.html/comment-page-2#comment-240229"><time datetime="2012-12-17T13:09:20+08:00">2012年12月17日 13:09</time></a> </div>
</footer>
<div class="comment-content">
<p>“软件的质量不是测试出来的，而是设计和维护出来的。就像工匠们在一点一点地雕琢他们的作品一样。”</p>
<p>Bravo！</p>
</div>
 </article>
</li>
<li id="comment-292178" class="comment even thread-even depth-1">
<article id="div-comment-292178" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/b4ba5517b17a8fcaa42746344a2d21af?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/b4ba5517b17a8fcaa42746344a2d21af?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">高山流水</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8209.html/comment-page-2#comment-292178"><time datetime="2013-02-15T12:25:36+08:00">2013年02月15日 12:25</time></a> </div>
</footer>
<div class="comment-content">
<p><a href="#comment-202345" rel="nofollow">@TekTea </a><br/>
哥们你说得太对了，我之前遇到的一个公司，号称05年开始做敏捷开发。<br/>
他们搞的那个单元测试，纯粹就是为了提高测试覆盖率而测试，还硬性的加了一条测试覆盖率不达标，奖金取消，<br/>
然后他们突击写单元测试代码，很明显这样的测试没有任何的意义，而且还浪费了大家的时间和表情，实在BT和教条。</p>
</div>
 </article>
</li>
<li id="comment-292180" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-292180" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/b4ba5517b17a8fcaa42746344a2d21af?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/b4ba5517b17a8fcaa42746344a2d21af?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">高山流水</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8209.html/comment-page-2#comment-292180"><time datetime="2013-02-15T12:37:14+08:00">2013年02月15日 12:37</time></a> </div>
</footer>
<div class="comment-content">
<p><a href="#comment-202458" rel="nofollow">@时刻不得闲 </a><br/>
你只说对了一部分，应该是对他们来说不重要的人，他们不在乎</p>
</div>
 </article>
</li>
<li id="comment-381857" class="comment even thread-even depth-1">
<article id="div-comment-381857" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/c422c893da13d5ea7abba996617fccbb?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/c422c893da13d5ea7abba996617fccbb?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">清晨之风</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8209.html/comment-page-2#comment-381857"><time datetime="2013-05-04T23:31:04+08:00">2013年05月04日 23:31</time></a> </div>
</footer>
<div class="comment-content">
<p>想当年我的毕业设计就是测试驱动开发，但是几年工作下来，我一直对单元测试持矛盾的态度：单元测试当然是一种很好的创举，但是具体使用当中，它却经常会产生副作用。这不是因为单元测试的思想有问题，而是实践这一思想的人的问题。<br/>
当前很多公司使用单元测试的怪现象：<br/>
很多公司为了说出去好看——我们的开发遵循敏捷开发，拥有近100%的单元测试覆盖率，所以代码质量有非常可靠的保障。但是实际上，单元测试都是软件已经开发完成之后加上去的，而且经常还是由专门分配的几个人去写单元测试的，而这几个人根本不熟悉需求，甚至根本没有参与开发过程，或者参与得很少，而分配给他们写单元测试代码的时间当然也和紧张，因为这也是需要成本的。所以，最终导致的结果就是——为了达到覆盖率目标，为每个方法（不管有无必要）加上单元测试，简答看一下这个方法，然后从当前对此方法的肤浅理解出发，写一个或很少的几个测试用例，这样单元测试覆盖率100%的要求就达到了，可是这样的单元测试有用吗？答案不言自明。</p>
</div>
 </article>
</li>
<li id="comment-382039" class="pingback odd alt thread-odd thread-alt depth-1">
<div class="comment-body">
Pingback： <a href="http://code.zc4u.com/articles/13964.html" class="url" rel="ugc external nofollow">对单元测试的一点感悟——这是一把双刃剑 | 编程·早晨</a> </div>
</li>
<li id="comment-384266" class="pingback even thread-even depth-1">
<div class="comment-body">
Pingback： <a href="http://blog.apprk.com/archives/47246" class="url" rel="ugc external nofollow">对单元测试的一点感悟——这是一把双刃剑 | EvilCode 邪恶代码</a> </div>
</li>
<li id="comment-546225" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-546225" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/938ed92590bfc799fceb95f1703ecb34?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/938ed92590bfc799fceb95f1703ecb34?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn"><a href="http://www.fakeraybans4sale.com" class="url" rel="ugc external nofollow">cheap Ray Bans Sunglasses</a></b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8209.html/comment-page-2#comment-546225"><time datetime="2013-06-14T04:13:51+08:00">2013年06月14日 04:13</time></a> </div>
</footer>
<div class="comment-content">
<p>My programmer is trying to convince me to move to .net from PHP. I have always disliked the idea because of the costs. But he’s tryiong none the less. I’ve been using Movable-type on various websites for about a year and am worried about switching to another platform. I have heard great things about blogengine.net. Is there a way I can transfer all my wordpress posts into it? Any help would be greatly appreciated!</p>
</div>
 </article>
</li>
<li id="comment-1228180" class="comment even thread-even depth-1">
<article id="div-comment-1228180" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/9a917bfd0880753faa7b324c7558d6e8?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/9a917bfd0880753faa7b324c7558d6e8?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">sp1234</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8209.html/comment-page-2#comment-1228180"><time datetime="2014-01-26T09:45:02+08:00">2014年01月26日 09:45</time></a> </div>
</footer>
<div class="comment-content">
<p>事实上只有你才会扯什么“TDD追求100%覆盖率”这种鬼话。</p>
<p>这个口号就是连基本的测试都不懂的人，搞行政的人而不是复杂一点的软件的实践者，才会这样。</p>
</div>
 </article>
</li>
<li id="comment-1228190" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-1228190" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/9a917bfd0880753faa7b324c7558d6e8?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/9a917bfd0880753faa7b324c7558d6e8?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">sp1234</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8209.html/comment-page-2#comment-1228190"><time datetime="2014-01-26T09:50:23+08:00">2014年01月26日 09:50</time></a> </div>
</footer>
<div class="comment-content">
<p>TDD是一种编程方法，将接口设计、行为设计跟实现代码一致起来（而很早以前写的纸质的设计文档可能在几个月以后代码实现时成为垃圾）。</p>
<p>TDD就是让你在写千分之一代码时，你先写写一下这千分之一代码的目标思路，而已。</p>
<p>只有那些根本就是搞手工测试的人，不懂自动化测试，才要追求什么100%测试覆盖率。实际上这样就能经得起验收测试么？不能。</p>
<p>而TDD目标是模拟这样的场景：自己如何驱动开发、项目经理如何能够验收，用户如何能够验收。</p>
<p>100%测试覆盖率，得到的仍然是一个垃圾。这谁都知道。只不过被那些根本不懂TDD的人拿来当作一个借口而已。</p>
</div>
 </article>
</li>
<li id="comment-1228202" class="comment even thread-even depth-1">
<article id="div-comment-1228202" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/9a917bfd0880753faa7b324c7558d6e8?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/9a917bfd0880753faa7b324c7558d6e8?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">sp1234</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8209.html/comment-page-2#comment-1228202"><time datetime="2014-01-26T09:57:10+08:00">2014年01月26日 09:57</time></a> </div>
</footer>
<div class="comment-content">
<p>你用那些事后让根本不懂、不质疑、不参与软件设计的人低层次测试人员去写单元测试，然后就给TDD扣上帽子了。这怨谁呢？</p>
<p>一个人所付出的辛苦汗水，应该追着目的而付出，而不是为了底层次地为了走走形式地为了付出而付出。</p>
<p>在一些公司里，也许老板是“感觉”到应该学习别人的经验，但是手下的得力干将可能就是因为水平平庸、而因为其它原因才被选择作为得力干将的，那么这种人就只会把手底下的人带入低层次的开发泥潭里。这跟TDD无关。</p>
<p>TDD根本不是传统上那种事后才写的单元测试。仅凭这一点，就知道那种为了100%覆盖率而加上去的伪TDD代码根本不是TDD行为的产物。</p>
</div>
 </article>
</li>
<li id="comment-1513198" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-1513198" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/97b316a6d6f76612f91f7c459acaff17?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/97b316a6d6f76612f91f7c459acaff17?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">alexxiyang</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8209.html/comment-page-2#comment-1513198"><time datetime="2014-08-15T15:37:46+08:00">2014年08月15日 15:37</time></a> </div>
</footer>
<div class="comment-content">
<p>Kent的回答让我感觉就像武功练到极致，开始无招胜有招了。</p>
</div>
 </article>
</li>
<li id="comment-1536800" class="comment even thread-even depth-1">
<article id="div-comment-1536800" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/7a0436686312ac942592aa71618f6a35?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/7a0436686312ac942592aa71618f6a35?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn"><a href="http://cklglobal.com/us/nikefreerunningshoeus.asp?cheap_shoes=nike-air-max-1-c-1_22/" class="url" rel="ugc external nofollow">Nike Air Max 1</a></b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8209.html/comment-page-2#comment-1536800"><time datetime="2014-09-17T21:35:36+08:00">2014年09月17日 21:35</time></a> </div>
</footer>
<div class="comment-content">
<p>NARRATED ANIMATION OF PREVIEWING THE DOCKING</p>
</div>
 </article>
</li>
<li id="comment-1536803" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-1536803" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/7a0436686312ac942592aa71618f6a35?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/7a0436686312ac942592aa71618f6a35?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn"><a href="http://cklglobal.com/us/nikefreerunningshoeus.asp?cheap_shoes=nike-air-max-2013-c-1_30/" class="url" rel="ugc external nofollow">Nike Air Max 2013</a></b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8209.html/comment-page-2#comment-1536803"><time datetime="2014-09-17T21:36:35+08:00">2014年09月17日 21:36</time></a> </div>
</footer>
<div class="comment-content">
<p>BRIEFING ON KIBO LABORATORY FACILITY</p>
</div>
 </article>
</li>
<li id="comment-1647116" class="pingback even thread-even depth-1">
<div class="comment-body">
Pingback： <a href="http://www.devlabs.cn/?p=398" class="url" rel="ugc external nofollow">C单元测试框架之Cmockery « DevLabs</a> </div>
</li>
<li id="comment-1694700" class="pingback odd alt thread-odd thread-alt depth-1">
<div class="comment-body">
Pingback： <a href="http://blog.lsok.net/?p=302" class="url" rel="ugc external nofollow">关于”测试驱动开发”的争论 | 灵石网络博客</a> </div>
</li>
<li id="comment-1738169" class="pingback even thread-even depth-1">
<div class="comment-body">
Pingback： <a href="http://courages.us/archives/670" class="url" rel="ugc external nofollow">PHP测试框架初探：PHPUnit | 勇气</a> </div>
</li>
<li id="comment-1742109" class="pingback odd alt thread-odd thread-alt depth-1">
<div class="comment-body">
Pingback： <a href="http://kleshwong.com/blog/2015/07/%e5%9c%a8nodejs%e4%b8%ad%e8%b4%af%e5%bd%bb%e5%8d%95%e5%85%83%e6%b5%8b%e8%af%95-cnode" class="url" rel="ugc external nofollow">Memories of Klesh » 在Nodejs中贯彻单元测试 – CNode</a> </div>
</li>
<li id="comment-1777509" class="comment even thread-even depth-1">
<article id="div-comment-1777509" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/f97f0afa6159793b5380cadd2d9a3c80?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/f97f0afa6159793b5380cadd2d9a3c80?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">spraith</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8209.html/comment-page-2#comment-1777509"><time datetime="2015-10-19T16:34:18+08:00">2015年10月19日 16:34</time></a> </div>
</footer>
<div class="comment-content">
<blockquote cite="#commentbody-203293"><p>
<strong><a href="#comment-203293" rel="nofollow">invalid</a> :</strong></p>
<blockquote cite="#commentbody-203156"><p>
<strong><a href="#comment-203156" rel="nofollow">dfewfe</a> :</strong></p>
<blockquote cite="#commentbody-202629"><p>
TDD教、UML教还有面向对象教最大的问题，就是搞出种种清规戒律、却逃避甚至排斥“作出简单到明显没有错误的方案”方向的任何努力。而后者才是解决软件质量问题的正确方向。<br/>
所以才说：软件的质量不是测试出来的，而是设计和维护出来的。
</p></blockquote>
<p>现实本身就是复杂到没有明显的错误, 所以如果作为对现实的一种映射的代码是简单到明显没有错误, 那么很明显代码是简单到反映不了现实情况.<br/>
这种说法就跟老金的”无招胜有招”,老子的”无为而无不为”一样, 听着挺有道理,看着也挺有道理,可就是现实中行不通.
</p></blockquote>
<p>&gt;现实本身就是复杂到没有明显的错误<br/>
我不知道你这个结论是从哪得来的。<br/>
现实本身，至少从目前的认识来看，牛顿三大运动定律本身基本就可以囊括一切了；更变态一点的需求，可以通过相对论修正（比如GPS。但相对论本身不过是两句话和两个变换公式）；至于量子力学，它的修正现在基本用不到——即使用到，它也不过就是一句话罢了。<br/>
至于化学，早在上百年前就已经可以归结为物理了。<br/>
————————————————————————————<br/>
很显然，现实本身是如此简单明了；也正因为其简单，我们才可以自牛顿力学开始，逐步深入，搞出现代文明体系。<br/>
牛顿力学的确并非现实的精确表述，在一些极端情况下，它需要打一些补丁。<br/>
而目前需要打上的补丁，也不过是为极端情况加上简单的两个修正（广义/狭义相对论），量子力学暂时尚无用武之地。<br/>
————————————————————————————<br/>
牛顿三大定律是机制；由它构成某种复杂系统则是策略。<br/>
——类似软件核心设计的“提供机制但不提供策略”理念一样，谈及策略，就必须具体到某个行业。<br/>
以汽车发动机设计举例，其后台机制仍然是牛顿三大运动定律，实现策略是汽缸/活塞/曲轴/连杆/轴承/齿轮：举凡机械，没有什么超越以上构件范围的。<br/>
显然，这也就是说，到了发动机上，无非是：基于牛顿三大定律这个库，提供了汽缸/活塞/曲轴/连杆/轴承/齿轮这个新的基础库；而如何利用汽缸/活塞/曲轴/连杆/轴承/齿轮等等机制以实现特定的机械，需要工程师设计另外的“策略”——而这个策略，显然不是汽缸/活塞/曲轴/连杆/轴承/齿轮库所应提供的。<br/>
如此反复，层层抽象，每层都很简单；等到了汽车整车上，就是“利用发动机/变速箱/轮胎/车身这个库提供的机制”，以某种“策略”实现特定车型了——显然，这仍然很简单。<br/>
正是基于以上思路，现代工业才成为可能。<br/>
——————————————————————————————<br/>
很显然，正因为你和另外一些人根本理解不了现代科学的根本理念，这才会把它和“无招胜有招”这种扯淡相混淆。<br/>
更具体点说，接受了现代科学根本理念的人，自然会把库-机制-策略看做吃饭喝水一样平常，他们自然懂的“怎样才能把软件搞简单”：无非是合理分层、正确抽象、区分机制和策略罢了。<br/>
相反，脑子仍然被“道可道，非常道”这种垃圾充满的，他们除了哭“现实如此复杂”，还能做什么？<br/>
面对“复杂的现实”，他们要能找到哪怕一丝脉络，那才叫白日见鬼了。<br/>
正是这种人，才会去不着边际的吹捧TDD教/UML教以及面向对象教——严肃的后三者的确是利器，但不应被没有自控力的小孩子接触。<br/>
会者不难，难者不会，这句话精辟的描募出了掌握正确规律者和稀里糊涂者在面对问题时的不同。
</p></blockquote>
<p>说得太精彩了！<br/>
那些抵毁面向对象这种思想的人和那些不懂面向对象思想而乱用、滥用的人其实一样是不懂面向对象的。</p>
</div>
 </article>
</li>
<li id="comment-1803456" class="pingback odd alt thread-odd thread-alt depth-1">
<div class="comment-body">
Pingback： <a href="http://www.richens.net/1306.html" class="url" rel="ugc external nofollow">在Nodejs中贯彻单元测试 – Richen&#39;s 幻想世界</a> </div>
</li>
<li id="comment-1812721" class="pingback even thread-even depth-1">
<div class="comment-body">
Pingback： <a href="http://hao.jser.com/archive/9793/" class="url" rel="ugc external nofollow">在Nodejs中贯彻单元测试 — 好JSER</a> </div>
</li>
<li id="comment-1849864" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-1849864" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/9db627c0f930ed8e186c074c351dc01f?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/9db627c0f930ed8e186c074c351dc01f?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">zhuguowei</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8209.html/comment-page-2#comment-1849864"><time datetime="2016-06-19T22:09:46+08:00">2016年06月19日 22:09</time></a> </div>
</footer>
<div class="comment-content">
<p>楼主英文真好啊， “ I do tend to make sense of test errors, so I’m extra careful when I have logic with complicated conditionals. When coding on a team, I modify my strategy to carefully test code that we, collectively, tend to get wrong.” 虽然每个单词都认识 但中文意思还是很模糊。楼主的翻译很精确。</p>
</div>
 </article>
</li>
<li id="comment-1907887" class="pingback even thread-even depth-1">
<div class="comment-body">
Pingback： <a href="http://aes.jypc.org/?p=50761" class="url" rel="ugc external nofollow">在Nodejs中贯彻单元测试 – 项目经验积累与分享</a> </div>
</li>
<li id="comment-1909263" class="comment odd alt thread-odd thread-alt depth-1 parent">
<article id="div-comment-1909263" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/47d5e47271b65109e8d22abc8ca61ab2?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/47d5e47271b65109e8d22abc8ca61ab2?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">gavin</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8209.html/comment-page-2#comment-1909263"><time datetime="2016-12-30T11:31:59+08:00">2016年12月30日 11:31</time></a> </div>
</footer>
<div class="comment-content">
<p>“最亮的是这个问题是由Kent Beck，Kent是XP和TDD的创造者，是敏捷开发实践方法的奠基人。”这句话不通</p>
</div>
 </article>
<ol class="children">
<li id="comment-1909778" class="comment even depth-2">
<article id="div-comment-1909778" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/7722f001ef46dc94410465ebfdf2ac3b?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/7722f001ef46dc94410465ebfdf2ac3b?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">aiqier</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8209.html/comment-page-2#comment-1909778"><time datetime="2017-01-03T12:10:34+08:00">2017年01月03日 12:10</time></a> </div>
</footer>
<div class="comment-content">
<p>估计应该是：“最亮的是这个答案是Kent Beck，Kent是XP和TDD的创造者，是敏捷开发实践方法的奠基人。”</p>
</div>
 </article>
</li>
</ol>
</li>
<li id="comment-1913234" class="pingback odd alt thread-even depth-1">
<div class="comment-body">
Pingback： <a href="http://www.uu3aa.com/a/22556" class="url" rel="ugc external nofollow">在Nodejs中贯彻单元测试-IT文库</a> </div>
</li>
<li id="comment-1924055" class="pingback even thread-odd thread-alt depth-1">
<div class="comment-body">
Pingback： <a href="http://hack.hk.cn/?p=84565" class="url" rel="ugc external nofollow">单元测试入门指南 - 莹莹之色</a> </div>
</li>
<li id="comment-2008251" class="pingback odd alt thread-even depth-1">
<div class="comment-body">
Pingback： <a href="https://www.waimaodishu.com/2016-08-18-no-silver-bullet/" class="url" rel="ugc external nofollow">no silver bullet - 雨果僧 - B2C跨境电商经验分享</a> </div>
</li>
<li id="comment-2008271" class="comment even thread-odd thread-alt depth-1">
<article id="div-comment-2008271" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/ec12cbf877dcb85bab9127e6645790e4?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/ec12cbf877dcb85bab9127e6645790e4?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn"><a href="https://yeminglakeforest.github.io/" class="url" rel="ugc external nofollow">Yeming Huang</a></b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8209.html/comment-page-2#comment-2008271"><time datetime="2019-07-30T18:53:46+08:00">2019年07月30日 18:53</time></a> </div>
</footer>
<div class="comment-content">
<p>对于那40亿单元测试的例子，解决办法是运用equivalence partitioning <a href="https://en.wikipedia.org/wiki/Equivalence_partitioning" rel="nofollow ugc">https://en.wikipedia.org/wiki/Equivalence_partitioning</a><br/>
用一个测试来代表所有同质（equivalent）的例子。<br/>
另外，对于如何选择效果最大化的测试，我们需要在代码中区分出算法（algorithm）和整合者（collaborator），集中测试算法，忽略整合者。详见https://yeminglakeforest.github.io/software/2018/04/25/to-test-or-not-to-test/</p>
</div>
 </article>
</li>
<li id="comment-2018206" class="pingback odd alt thread-even depth-1">
<div class="comment-body">
Pingback： <a href="http://ddrv.cn/a/439861/" class="url" rel="ugc external nofollow">重新思考单元测试 - 算法网</a> </div>
</li>
<li id="comment-2052071" class="pingback even thread-odd thread-alt depth-1">
<div class="comment-body">
Pingback： <a href="https://codingnote.cc/p/47283" class="url" rel="ugc external nofollow">重新思考单元测试 - 程式筆記</a> </div>
</li>
<li id="comment-2157612" class="pingback odd alt thread-even depth-1">
<div class="comment-body">
Pingback： <a href="http://www.fixbbs.com/a/25130265.html" class="url" rel="ugc external nofollow">玩转Node.js单元测试 – FIXBBS</a> </div>
</li>
</ol>
<nav class="navigation comment-navigation" role="navigation">
<h2 class="screen-reader-text">Comment navigation</h2>
<div class="nav-links">
<div id="commentnavi">
<span class="pages"><i class="fa fa-comments"></i> 评论分页</span>
<div id="commentpager">
<a class="prev page-numbers" href="/articles/8209.html/comment-page-1#comments">« 上一页</a>
<a class="page-numbers" href="/articles/8209.html/comment-page-1#comments">1</a>
<span aria-current="page" class="page-numbers current">2</span> <span id="cp_post_id">8209</span>
</div>
<div class="fixed"></div>
</div>
</div>
</nav>

</div>
</div>
</div>

</div> 
</div>

</div>

</div>




















</body></html>