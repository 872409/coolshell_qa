<!DOCTYPE html><!--[if IE 8]>
<html id="ie8" dir="ltr" lang="zh-CN"
	prefix="og: https://ogp.me/ns#" >
<![endif]--><!--[if !(IE 8) ]><!--><html dir="ltr" lang="zh-CN" prefix="og: https://ogp.me/ns#"><!--<![endif]--><head><meta charset="UTF-8"/><title>用TCC可以干些什么？ | 酷 壳 - CoolShell</title><link rel="stylesheet" type="text/css" href="/assets/all.min.css"/><link rel="shortcut icon" href="/assets/favicon.png"/></head>
<body class="post-template-default single single-post postid-786 single-format-standard group-blog">

<div id="page" class="hfeed site">

<div class="container">
<div class="row">

</div>
</div>
<div id="content" class="site-content">
<div class="container">
<div class="row">
<div id="primary" class="content-area  col-md-12" style="margin-top: 40px;">
<main id="main" role="main">
<article id="post-786" class="post-content post-786 post type-post status-publish format-standard hentry category-cplusplus category-pythondev category-tools category-proglanguage tag-cinpy tag-pythondev tag-tcc">
<header class="entry-header">
<span class="screen-reader-text">用TCC可以干些什么？</span>
<h1 class="entry-title">用TCC可以干些什么？</h1>
<div class="entry-meta">
<h5 class="entry-date"><i class="fa fa-calendar-o"></i> <a href="/articles/786.html" title="15:22" rel="bookmark"><time class="entry-date" datetime="2009-05-10T15:22:15+08:00" pubdate="">2009年05月10日 </time></a><span class="byline"><span class="sep"></span><i class="fa fa-user"></i>
<span class="author vcard"><a class="url fn n" href="/haoel" title="View all posts by 陈皓" rel="author">陈皓</a></span></span> <i class="fa fa-comments-o"></i><span class="screen-reader-text">评论 </span> <a href="/articles/786.html#comments" class="comments-link">34 条评论</a> <i class="fa fa-users" style="margin-left:10px;"></i> 19,158 人阅读</h5>
</div>
</header>
<div class="entry-content">
<p>Tiny C Compiler 是一个微型的 C 语言编译器，支持 Windows 和 Linux 平台。其项目主页是： <a href="http://bellard.org/tcc/" target="_blank">http://bellard.org/tcc/</a> 。你可以使用这个不到100K的编译器编译你的C文件，其支持C的预处理，编译，机器码汇编和链接。编译速度也超过了gcc，而且它支持ISO C99标准，并且，tcc还包括了一些内存和数组边界的检查。其还可以编译Linux的内核。</p>
<p>不过，TCC 最有趣的特性是可以用 UNIX 系统上常见的 #!/usr/bin/tcc 的方式来执行 ANSI C 语言写就的源程序，省略掉了在命令行上进行编译和链接的步骤，而可以直接运行 C 语言写就的源程序。这样就能做到像任何一种其它的脚本语言比如 Perl 或者是 Python 一样，显著的加快开发步调。可以像编写 Shell 脚本一样的使用 C 语言，随便想一想都觉得是一件奇妙的事情。但是 TCC 还有一些其它的特性呢！</p>
<p><span id="more-786"></span></p>
<p>在TCC这个超小型的C语言编译器下，我们还可以干得更多，比如这个开源项目：C in Python，项目主页是：<a href="http://www.cs.tut.fi/~ask/cinpy/">http://www.cs.tut.fi/~ask/cinpy/</a>，这个项目主要是让你可以在Python中直接使用C的源码。呵呵。</p>
<p>Cinpy 是一个Python的库，它可以让你在Python的模块中实现C的函数。在前些天，酷壳向大家介绍过《<a class="title" rel="bookmark" href="/articles/671.html"><span style="color: #4c4c4c;">Python调用C语言函数</span></a>》——这主要是通过调用动态链接库的方式调用C的函数。而Cinpy则是直接在Python中写C语言。</p>
<p>我们来看一个示例：（部分代码）</p>
<pre data-enlighter-language="python" class="EnlighterJSRAW">import ctypes
import cinpy

# Fibonacci in Python
def fibpy(x):
    if x&lt;=1: return 1
    return fibpy(x-1)+fibpy(x-2)

# Fibonacci in C
fibc=cinpy.defc(&#34;fib&#34;,
                ctypes.CFUNCTYPE(ctypes.c_long,ctypes.c_int),
                &#34;&#34;&#34;
                long fib(int x) {
                    if (x&lt;=1) return 1;
                    return fib(x-1)+fib(x-2);
                }
                &#34;&#34;&#34;)

# ...and then just use them...
# (there _is_ a difference in the performance)
print fibpy(30)
print fibc(30)
</pre>
<p>源代码这里下载：<a href="https://coolshell.cn/wp-admin/cinpy-0.10.tar.gz">cinpy-0.10.tar.gz</a></p>
<div style="margin-top: 15px; font-size: 16px;color: #cc0000;">
<p align="center"><strong>（转载本站文章请注明作者和出处 <a href="/">酷 壳 – CoolShell</a> ，请勿用于任何商业用途）</strong></p>
</div>

<div id="post-ratings-786-loading" class="post-ratings-loading"><img src="https://coolshell.cn/wp-content/plugins/wp-postratings/images/loading.gif" width="16" height="16" class="post-ratings-image"/>Loading...</div>
</div>
<footer class="entry-footer">
<hr/><div class="row"><div class="col-md-6 cattegories"><span class="cat-links"><i class="fa fa-folder-open"></i>
<a href="javascript:void(0)" rel="category tag">C/C++语言</a>, <a href="javascript:void(0)" rel="category tag">Python</a>, <a href="javascript:void(0)" rel="category tag">编程工具</a>, <a href="javascript:void(0)" rel="category tag">编程语言</a></span></div><div class="col-md-6 tags"><span class="tags-links"><i class="fa fa-tags"></i> <a href="javascript:void(0)" rel="tag">Cinpy</a>, <a href="javascript:void(0)" rel="tag">Python</a>, <a href="javascript:void(0)" rel="tag">TCC</a></span></div></div> </footer>
</article>

<div class="fixed"></div> 
</main>

<div class="post-comments">
<div id="comments" class="comments-area">
<h2 class="comments-title">
《<span>用TCC可以干些什么？</span>》的相关评论 </h2>
<ol class="comment-list">
<li id="comment-6601" class="comment even thread-even depth-1">
<article id="div-comment-6601" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/7ac6ff2001a749e92a81c45c434a5b13?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/7ac6ff2001a749e92a81c45c434a5b13?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">shellexy</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/786.html#comment-6601"><time datetime="2010-05-11T19:47:03+08:00">2010年05月11日 19:47</time></a> </div>
</footer>
<div class="comment-content">
<p>ctcinline 是个更加方便的 C in Python<br/>
<a href="https://code.google.com/p/ctcinline/wiki/examples" rel="nofollow ugc">http://code.google.com/p/ctcinline/wiki/examples</a></p>
<p>&gt;&gt;&gt; import ctcinline<br/>
&gt;&gt;&gt; ctcinline.cinline(r”’<br/>
… int foo(int i, int t){<br/>
… return i*t;<br/>
… }<br/>
… int baa(int i, int t){<br/>
… return i+t;<br/>
… }<br/>
… ”’)<br/>
&gt;&gt;&gt; foo(2, 3)<br/>
6<br/>
&gt;&gt;&gt; baa(2, 3)<br/>
5</p>
</div>
 </article>
</li>
<li id="comment-11663" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-11663" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/02529f3cc97c2acb9da0d24ff596f360?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/02529f3cc97c2acb9da0d24ff596f360?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn"><a href="http://hi.baidu.com/jyf1987" class="url" rel="ugc external nofollow">无限</a></b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/786.html#comment-11663"><time datetime="2010-10-15T12:45:11+08:00">2010年10月15日 12:45</time></a> </div>
</footer>
<div class="comment-content">
<p>用tcc的win lib还可以在linux下编译.exe程序 呵呵</p>
</div>
 </article>
</li>
<li id="comment-53231" class="pingback even thread-even depth-1">
<div class="comment-body">
Pingback： <a href="/articles/4722.html" class="url" rel="ugc">在Web上运行Linux | 酷壳 - CoolShell.cn</a> </div>
</li>
<li id="comment-53365" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-53365" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/43b7cee61d23f796398aecc452477689?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/43b7cee61d23f796398aecc452477689?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn"><a href="http://www.intsenz.com" class="url" rel="ugc external nofollow">intsenz</a></b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/786.html#comment-53365"><time datetime="2011-05-19T16:28:05+08:00">2011年05月19日 16:28</time></a> </div>
</footer>
<div class="comment-content">
<p>太强大了</p>
</div>
 </article>
</li>
<li id="comment-53695" class="pingback even thread-even depth-1">
<div class="comment-body">
Pingback： <a href="http://www.redtamo.com/default/%e8%bf%90%e8%a1%8c%e5%9c%a8web%e4%b8%8a%e7%9a%84linux.html" class="url" rel="ugc external nofollow">运行在Web上的Linux</a> </div>
</li>
<li id="comment-53908" class="pingback odd alt thread-odd thread-alt depth-1">
<div class="comment-body">
Pingback： <a href="http://www.tanglei.name/linux-in-web/" class="url" rel="ugc external nofollow">牛-Web下运行linux » tanglei&#39;s blog 唐磊的个人博客</a> </div>
</li>
<li id="comment-54135" class="pingback even thread-even depth-1">
<div class="comment-body">
Pingback： <a href="http://www.seamaple.net/2011/05/22/%e5%9c%a8web%e4%b8%8a%e8%bf%90%e8%a1%8clinux/" class="url" rel="ugc external nofollow">在Web上运行Linux - 海树枫天 心灵港湾–Seamaple&#39;s Blog</a> </div>
</li>
<li id="comment-54729" class="pingback odd alt thread-odd thread-alt depth-1">
<div class="comment-body">
Pingback： <a href="http://anyuhan.qiongz.com/?p=207" class="url" rel="ugc external nofollow">| 暗雨寒 | Inception</a> </div>
</li>
<li id="comment-54760" class="pingback even thread-even depth-1">
<div class="comment-body">
Pingback： <a href="http://www.yongblog.com/archives/296.html" class="url" rel="ugc external nofollow">在 Web 上运行 Linux | @Yong 的个人博客</a> </div>
</li>
<li id="comment-54783" class="pingback odd alt thread-odd thread-alt depth-1">
<div class="comment-body">
Pingback： <a href="http://www.cppfans.org/archives/418.html" class="url" rel="ugc external nofollow">[转]在Web上运行Linux | C++爱好者博客</a> </div>
</li>
<li id="comment-55214" class="pingback even thread-even depth-1">
<div class="comment-body">
Pingback： <a href="http://www.murphyl.com/web_linux/" class="url" rel="ugc external nofollow">在网页上运行Linux，你敢信吗？ | Coffee Blog</a> </div>
</li>
<li id="comment-55242" class="pingback odd alt thread-odd thread-alt depth-1">
<div class="comment-body">
Pingback： <a href="http://www.uini.net/2011/05/linux-running-on-the-web.html" class="url" rel="ugc external nofollow">在Web上运行Linux-传播、沟通、分享-一直“有你”</a> </div>
</li>
<li id="comment-55490" class="pingback even thread-even depth-1">
<div class="comment-body">
Pingback： <a href="http://impointer.wordpress.com/2011/05/30/%e8%bd%ac%e5%9c%a8web%e4%b8%8a%e8%bf%90%e8%a1%8clinux/" class="url" rel="ugc external nofollow">[转]在Web上运行Linux | I am Pointer.com</a> </div>
</li>
<li id="comment-56622" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-56622" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/42776a7ddbff1d1ba103195bb9d4a091?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/42776a7ddbff1d1ba103195bb9d4a091?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">Benhuan</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/786.html#comment-56622"><time datetime="2011-06-04T08:18:58+08:00">2011年06月04日 08:18</time></a> </div>
</footer>
<div class="comment-content">
<p>很帅气的编译器</p>
</div>
 </article>
</li>
<li id="comment-56928" class="pingback even thread-even depth-1">
<div class="comment-body">
Pingback： <a href="http://www.lei130102.tk/?p=143" class="url" rel="ugc external nofollow">在Web上运行Linux[转] « lei130102&#39;s 笔记本</a> </div>
</li>
<li id="comment-60300" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-60300" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/05588cd2fec6a2efd52ed47698458e9a?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/05588cd2fec6a2efd52ed47698458e9a?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn"><a href="http://wecing.info" class="url" rel="ugc external nofollow">wecing</a></b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/786.html#comment-60300"><time datetime="2011-06-20T13:26:32+08:00">2011年06月20日 13:26</time></a> </div>
</footer>
<div class="comment-content">
<p>其实应该是“#!/usr/bin/tcc -run”……否则是不会有任何输出的。</p>
</div>
 </article>
</li>
<li id="comment-60374" class="pingback even thread-even depth-1">
<div class="comment-body">
Pingback： <a href="http://www.wangxinxin.com/archives/html/2011/06-20-post_id_535.html" class="url" rel="ugc external nofollow">在Web上运行Linux | 欣事欣情-王欣欣</a> </div>
</li>
<li id="comment-60660" class="pingback odd alt thread-odd thread-alt depth-1">
<div class="comment-body">
Pingback： <a href="http://lucienfeel.tk/?p=76" class="url" rel="ugc external nofollow">#Lucien ~ 技术永无止境，网页版linux~！！</a> </div>
</li>
<li id="comment-62215" class="pingback even thread-even depth-1">
<div class="comment-body">
Pingback： <a href="http://www.yovae.com/blog/?p=1410" class="url" rel="ugc external nofollow">Javascript在Web浏览器中启动Linux | Yovae Blog</a> </div>
</li>
<li id="comment-63970" class="pingback odd alt thread-odd thread-alt depth-1">
<div class="comment-body">
Pingback： <a href="http://www.web118.com/2011/07/running-linux-on-the-web/" class="url" rel="ugc external nofollow">» 在Web上运行Linux | JUST DO IT.</a> </div>
</li>
<li id="comment-65153" class="pingback even thread-even depth-1">
<div class="comment-body">
Pingback： <a href="http://www.qinbin.me/magic-js-running-linux-on-the-web/" class="url" rel="ugc external nofollow">神奇的JS – 在Web上运行Linux | 小木同(Bin)</a> </div>
</li>
<li id="comment-65456" class="pingback odd alt thread-odd thread-alt depth-1">
<div class="comment-body">
Pingback： <a href="http://i.eastdesign.net/%e5%9c%a8web%e4%b8%8a%e8%bf%90%e8%a1%8clinux" class="url" rel="ugc external nofollow">EASTDESIGN INTRANET | Blog | 在Web上运行Linux</a> </div>
</li>
<li id="comment-71569" class="pingback even thread-even depth-1">
<div class="comment-body">
Pingback： <a href="http://www.chuanyue100.com/archives/166.html" class="url" rel="ugc external nofollow">在Web页面上启动运行Linux系统 « @追随者</a> </div>
</li>
<li id="comment-75639" class="pingback odd alt thread-odd thread-alt depth-1">
<div class="comment-body">
Pingback： <a href="http://blog.iuhux.com/2011/08/20/%e5%9c%a8web%e4%b8%8a%e8%bf%90%e8%a1%8clinux/" class="url" rel="ugc external nofollow">在Web上运行Linux | 枫林火山</a> </div>
</li>
<li id="comment-85225" class="pingback even thread-even depth-1">
<div class="comment-body">
Pingback： <a href="http://www.ha97.com/4103.html" class="url" rel="ugc external nofollow">在Web页面上启动运行Linux系统</a> </div>
</li>
<li id="comment-86217" class="pingback odd alt thread-odd thread-alt depth-1">
<div class="comment-body">
Pingback： <a href="http://yukai.yzcyx.com/blog/archives/49" class="url" rel="ugc external nofollow">在Web上运行Linux | Geek it!</a> </div>
</li>
<li id="comment-90332" class="pingback even thread-even depth-1">
<div class="comment-body">
Pingback： <a href="http://blog.cmsphp.com/?p=265" class="url" rel="ugc external nofollow">在Web页面上启动运行Linux系统 | CMSPHP官方博客</a> </div>
</li>
<li id="comment-203213" class="pingback odd alt thread-odd thread-alt depth-1">
<div class="comment-body">
Pingback： <a href="http://fastfood.sinaapp.com/?p=622" class="url" rel="ugc external nofollow">Xsank的快餐 » 在Web上运行Linux</a> </div>
</li>
<li id="comment-255462" class="pingback even thread-even depth-1">
<div class="comment-body">
Pingback： <a href="http://www.wujunwei.net/archives/327" class="url" rel="ugc external nofollow">在Web上运行Linux | 52 b/s</a> </div>
</li>
<li id="comment-909659" class="pingback odd alt thread-odd thread-alt depth-1">
<div class="comment-body">
Pingback： <a href="http://www.multiprocess.net/?p=458" class="url" rel="ugc external nofollow">在Web上运行Linux | multiprocess</a> </div>
</li>
<li id="comment-1398641" class="pingback even thread-even depth-1">
<div class="comment-body">
Pingback： <a href="http://demo.zengine.info/?p=851" class="url" rel="ugc external nofollow">Python修饰器的函数式编程 | zengine</a> </div>
</li>
<li id="comment-1491814" class="pingback odd alt thread-odd thread-alt depth-1">
<div class="comment-body">
Pingback： <a href="http://www.makaidong.com/blog/29587.html" class="url" rel="ugc external nofollow">函数式编程 – 马开东博客</a> </div>
</li>
<li id="comment-1762312" class="pingback even thread-even depth-1">
<div class="comment-body">
Pingback： <a href="http://www.yovae.com/p_1410.html" class="url" rel="ugc external nofollow">Javascript在Web浏览器中启动Linux – Yovae Studio</a> </div>
</li>
<li id="comment-1857452" class="pingback odd alt thread-odd thread-alt depth-1">
<div class="comment-body">
Pingback： <a href="https://www.jayxu.com/2011/05/19/10588" class="url" rel="ugc external nofollow">在Web上运行Linux [zz] | 程序员的信仰</a> </div>
</li>
</ol>

</div>
</div>
</div>

</div> 
</div>

</div>

</div>




















</body></html>