<!DOCTYPE html><!--[if IE 8]>
<html id="ie8" dir="ltr" lang="zh-CN"
	prefix="og: https://ogp.me/ns#" >
<![endif]--><!--[if !(IE 8) ]><!--><html dir="ltr" lang="zh-CN" prefix="og: https://ogp.me/ns#"><!--<![endif]--><head><meta charset="UTF-8"/><title>Python中实现多属性排序 | 酷 壳 - CoolShell</title><link rel="stylesheet" type="text/css" href="/assets/all.min.css"/><link rel="shortcut icon" href="/assets/favicon.png"/></head>
<body class="post-template-default single single-post postid-435 single-format-standard group-blog">

<div id="page" class="hfeed site">

<div class="container">
<div class="row">

</div>
</div>
<div id="content" class="site-content">
<div class="container">
<div class="row">
<div id="primary" class="content-area  col-md-12" style="margin-top: 40px;">
<main id="main" role="main">
<article id="post-435" class="post-content post-435 post type-post status-publish format-standard hentry category-pythondev category-proglanguage tag-pythondev tag-78">
<header class="entry-header">
<span class="screen-reader-text">Python中实现多属性排序</span>
<h1 class="entry-title">Python中实现多属性排序</h1>
<div class="entry-meta">
<h5 class="entry-date"><i class="fa fa-calendar-o"></i> <a href="/articles/435.html" title="09:33" rel="bookmark"><time class="entry-date" datetime="2009-04-12T09:33:43+08:00" pubdate="">2009年04月12日 </time></a><span class="byline"><span class="sep"></span><i class="fa fa-user"></i>
<span class="author vcard"><a class="url fn n" href="/articles/author/mailper" title="View all posts by mailper" rel="author">mailper</a></span></span> <i class="fa fa-comments-o"></i><span class="screen-reader-text">评论 </span> <a href="/articles/435.html#comments" class="comments-link">4 条评论</a> <i class="fa fa-users" style="margin-left:10px;"></i> 15,747 人阅读</h5>
</div>
</header>
<div class="entry-content">
<p>我们有一组记录:</p>
<pre data-enlighter-language="python" class="EnlighterJSRAW">list_records =
(
 (department, name, salary),
 (department, name, salary),
 ...
 (department, name, salary)
)</pre>
<p>然后我们想进行类似 MS – Excel 里的 “then sort by” 中的功能一样先基于department排序，然后再在部门内按照salary排序。</p>
<p>其他编程语言可能相对复杂，我这里写出一个用Python实现的最简方法（也许有比这个还短的，来挑战吧）</p>
<p><span id="more-435"></span></p>
<pre data-enlighter-language="python" class="EnlighterJSRAW">list_records.sort(
 key = lambda l: (l[0], l[2])
)</pre>
<p>这个就是函数是编程的好处，可以无中生有的构造出一个没有名字的inline函数。假设我们有另外一个dictionary_age 是保存的 { name: ages }， 我们还可以简单的实现基于外部属性进行排序。例如，如果我们想先按照部门排序，然后在部门里按照年龄排序，我们可以写：</p>
<pre data-enlighter-language="python" class="EnlighterJSRAW">list_record.sort(
 key = lambda l:( l[0], dictionary_age(l[1]) )
)</pre>
<p>如果需要降序排列，可以设置 revserse = True; 如果想基于两个属性，一个升序，一个降序，可以试试将其中一个构造一个外部规则，然后如同上例子中的dictionary_age一样传递进去。</p>
<p>Done!</p>
<div style="margin-top: 15px; font-size: 16px;color: #cc0000;">
<p align="center"><strong>（转载本站文章请注明作者和出处 <a href="/">酷 壳 – CoolShell</a> ，请勿用于任何商业用途）</strong></p>
</div>

<div id="post-ratings-435-loading" class="post-ratings-loading"><img src="https://coolshell.cn/wp-content/plugins/wp-postratings/images/loading.gif" width="16" height="16" class="post-ratings-image"/>Loading...</div>
</div>
<footer class="entry-footer">
<hr/><div class="row"><div class="col-md-6 cattegories"><span class="cat-links"><i class="fa fa-folder-open"></i>
<a href="javascript:void(0)" rel="category tag">Python</a>, <a href="javascript:void(0)" rel="category tag">编程语言</a></span></div><div class="col-md-6 tags"><span class="tags-links"><i class="fa fa-tags"></i> <a href="javascript:void(0)" rel="tag">Python</a>, <a href="javascript:void(0)" rel="tag">排序</a></span></div></div> </footer>
</article>

<div class="fixed"></div> 
</main>

<div class="post-comments">
<div id="comments" class="comments-area">
<h2 class="comments-title">
《<span>Python中实现多属性排序</span>》的相关评论 </h2>
<ol class="comment-list">
<li id="comment-12969" class="comment even thread-even depth-1">
<article id="div-comment-12969" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/1f176e3fa0baffd3a4c95a3203f6644b?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1f176e3fa0baffd3a4c95a3203f6644b?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn"><a href="http://www.@tutttoo.com" class="url" rel="ugc external nofollow">d</a></b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/435.html#comment-12969"><time datetime="2010-11-10T14:50:42+08:00">2010年11月10日 14:50</time></a> </div>
</footer>
<div class="comment-content">
<p><a href="/cdn-cgi/l/email-protection#0e646f774e7a7b7a7a7a6161206d6163"><span class="__cf_email__" data-cfemail="402a21390034353434342f2f6e232f2d">[email protected]</span></a></p>
</div>
 </article>
</li>
<li id="comment-810298" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-810298" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/bda6486234d767479543d62a1f8600e2?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/bda6486234d767479543d62a1f8600e2?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">农民的儿子</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/435.html#comment-810298"><time datetime="2013-10-13T23:36:12+08:00">2013年10月13日 23:36</time></a> </div>
</footer>
<div class="comment-content">
<p>perl怎么实现呢？</p>
</div>
 </article>
</li>
<li id="comment-1480125" class="comment even thread-even depth-1">
<article id="div-comment-1480125" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/32001943e07cb22b736179c447aa6805?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/32001943e07cb22b736179c447aa6805?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn"><a href="http://whitefirer.org" class="url" rel="ugc external nofollow">小白</a></b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/435.html#comment-1480125"><time datetime="2014-06-12T17:59:20+08:00">2014年06月12日 17:59</time></a> </div>
</footer>
<div class="comment-content">
<p>我一般都直接用sorted..<br/>
from operator import itemgetter, attrgetter<br/>
list_records = sorted(list_records, key=attrgetter(‘PIR’,’prize’), reverse=True)<br/>
这里list_records 是个类。attrgetter里可以传N个参- –</p>
</div>
 </article>
</li>
<li id="comment-1570827" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-1570827" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/a29dc1c946531b46be450e2cb4252f44?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/a29dc1c946531b46be450e2cb4252f44?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">wkingfly</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/435.html#comment-1570827"><time datetime="2014-10-13T23:31:58+08:00">2014年10月13日 23:31</time></a> </div>
</footer>
<div class="comment-content">
<p>你这个使用外部库了<br/>
<a href="#comment-1480125" rel="nofollow">@小白 </a></p>
</div>
 </article>
</li>
</ol>

</div>
</div>
</div>

</div> 
</div>

</div>

</div>




















</body></html>